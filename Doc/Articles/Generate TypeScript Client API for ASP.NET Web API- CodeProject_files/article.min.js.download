function CheckForUndo(n){if(!$(n).prop("checkForUndo")){var t=$(n).find(".Undo");$(n).prop("checkForUndo",!0)}}function getWrapperName(n,t){return"Report_"+t+"_"+n}function getReportFormHtml(n,t,i,r,u){for(var o=getWrapperName(n,t),e='<span name="'+o+'">  <span class="result tiny-text invisible"><\/span>  <span class="tooltip report" style="padding:0 10px">    <img height="16" width="16" src="/images/flag16.png" border="0" alt="report" /><div class="tooltip-flyout" style="width:9rem !important;line-height:17px">',f=0;f<u.length;f++)e+='     <div class="list-item"><a href="#xx'+n+'xx"  title = "Report as " '+u[f].name+'"  onclick="return ReportItem('+n+","+t+","+i+","+r+","+u[f].reportTypeId+', false);">'+u[f].name+"<\/a><\/div>";return e+"<\/div>  <\/span><\/span>"}function reportCallback(n,t,i){var u=getWrapperName(n,t),r=$("[name='"+u+"']");r.length&&(i.length>0?r.find(".result").html(i).show():r.find(".result").html("No response received"))}function UnReportItem(n,t,i){var e=getWrapperName(n,t),r=$("[name='"+e+"']"),u=r.find(".result"),f;return u.length&&u.html('<img class="loading" width="16" height="16" src="/images/loading16.gif" />').show(),r.find(".report").hide(),f="/Script/Content/Report.aspx?obid="+n+"&obtid="+t+"&repid="+i+"&ajax=true&undo=true",$.get(f,function(i){reportCallback(n,t,i)}),!1}function ReportItem(n,t,i,r,u,f,e){var h=!0,s,a;if(e&&(h=confirm("Are you sure your want to vote this item as '"+f+"'?")),h){var c="",v=getWrapperName(n,t),o=$("[name='"+v+"']"),l=o.find(".report-comment");l.length>0&&(c=l.val()||"");s=o.find(".result");s.length&&s.html('<img class="loading" width="16" height="16" src="/images/loading16.gif" />').show();o.find(".report").hide();a="/Script/Content/Report.aspx?obid="+n+"&obtid="+t+"&obstid="+i+"&ovid="+r+"&rid="+u+"&comments="+escape(c)+"&ajax=true";$.get(a,function(i){reportCallback(n,t,i)})}return!1}function FollowService(n,t,i){var tt=4,y=[414860,171947,730557,789822,826349,336232,567452,247932,373543,356056,355988,239898,316093,355904,546819,590701,712786,735911,595804,834949,327509],it=i||4e3,e,r={},o,u=t,rt=`<div class="%className% flex-container">
        <div>
            %thumbnail%
        </div>
        <div class="text">
            <div class="title">
                <a href="%itemUrl%">%itemTitle%</a>
            </div>
            <div class="entry">
                %readLater%
                <!-- %itemType% %evntEventTypeName% -->
                <span title="%evntOccuredAt%">%evntOccuredAt%</span>
                by <span class="author"><a href="%memberUrl%">%memberName%</a></span>
                %associatedInfo%
            </div>
            <div class="description">%itemDescription%</div>
            <div class="tags horizontal">%tags%</div>
        </div>
    </div>`,ut=`<div class="%className%">
            <div class="title">
                <a href="%itemUrl%">%itemTitle%</a>
            </div>
            <div class="entry">
                %readLater%
                <!-- %itemType% %evntEventTypeName% -->
                <span title="%evntOccuredAt%">%evntOccuredAt%</span>
                by <span class="author"><a href="%memberUrl%">%memberName%</a></span>
                %associatedInfo%
            </div>
            <div class="description">
                %thumbnail%
                <div class="text">%itemDescription%</div>
            </div>
            <div class="tags horizontal">%tags%</div>
        </div>`,ft=`<div class="%className%">
            %itemCount%
            <div class="title">
                <a href="%itemUrl%">%itemTitle%</a> %associatedInfo%
            </div>
         </div>`,f=function(n,t){var i=new $.Deferred,r;return typeof e!="string"&&e.length===0?i.reject("BaseUrl not set"):(r=JSON.stringify(t),$.ajax({type:"POST",cache:!1,url:e+n,data:r,contentType:"application/json; charset=utf-8",dataType:"json",timeout:it}).done(function(n){var t=n?n.d:null;i.resolve(t)}).fail(function(n,t){i.reject(t)})),i.promise()},a=function(n,t){var i={objectTypeId:t.objectTypeId,objectId:t.objectId};return f(n,i)},c=function(n){r.isFollowing=n;v();u?n?(r.$followButton.css("display","none"),r.$unfollowButton.css("display","inline-block")):(r.$unfollowButton.css("display","none"),r.$followButton.css("display","inline-block")):(r.$followButton.css("display","none"),r.$unfollowButton.css("display","none"))},v=function(){r.$followButton.removeClass("processing");r.$unfollowButton.removeClass("processing")},p=function(n){return u?a("IsFollowingObject",n).done(function(n){c(n)}):!1},et=function(n){if(u)return a("FollowObject",n).done(function(){c(!0)}).fail(function(){v()})},ot=function(n){if(u)return a("UnfollowObject",n).done(function(){c(!1)}).fail(function(){v()})},w=function(n){var t;n===0?(t="No",r.$timelineLoadTopBtn.hide()):(t=n.toString(),r.allowLoadMore&&r.$timelineLoadTopBtn.show());r.$timelineCount.html(t)},st=function(n){var t=typeof r.events!="undefined"&&r.events!==null&&r.events.length>0?r.events[0].EventId:null;return(typeof n.criteria=="undefined"||n.criteria===null?f("GetTimelineCount",{categoryId:n.contentCategoryId,filter:n.filter,sinceEventId:t}):f("GetTimelineCountForCriteria",{categoryId:n.contentCategoryId,criteria:n.criteria,sinceEventId:t})).done(function(n){w(n)})},ht=function(){var n=$.Deferred();return typeof o=="undefined"?u?f("GetFollowing").done(function(t){t&&t.AttributeIds&&t.AttributeIds.length>0&&(o=t.AttributeIds);n.resolve()}).fail(function(){n.reject()}):n.resolve():n.resolve(),n.promise()},dt=function(n){return n?/^[aeiou]/.test(n)?"an":"a":""},ct=function(n){return f("FollowAttribute",{attributeId:n})},lt=function(n){return f("UnfollowAttribute",{attributeId:n})},at=function(n,t){(t?ct(n):lt(n)).done(vt)},b=function(n,t){n=n||$("body");o=t;var i=$(".tags .t",n);i.each(function(){var n=$(this),t=$("a",n),i,r;t.length&&t[0].dataset&&t[0].dataset.id&&(i=parseInt(t[0].dataset.id),r=n.attr("data-followinit")==="true",r||isNaN(i)||n.prepend('<img class="follow" src="/images/follow.png" width="12" height="12" />'),n.attr("data-followinit","true"))});$("img",i).click(function(){var t;if(u){var f=$(this),i=$(this).parent(),r=$("a",i),n=parseInt(r[0].dataset.id);isNaN(n)||(t=k(n),at(n,!t))}else window.location.href="/script/Membership/Logon.aspx"});d()},k=function(n){return o!==undefined&&o.indexOf(n)>=0},d=function(){ht().done(function(){var t=$(".tags .t"),n;if(t.each(function(){var r,t,n;$div=$(this);var f=$("a",$div),e=f.attr("data-id"),i=parseInt(e);isNaN(i)?$div.removeClass("followed"):(r=k(i),t=$("img",$div),r?($div.addClass("followed"),t.attr("src","/images/followed.png"),autoTooltip?($div.attr("data-enabletooltip","true"),$div.attr("data-tooltip","You are following this tag"),$div.attr("data-width","175px"),autoTooltip($div)):$div.attr("title","You are following this tag")):(n="Click the star to follow this tag",u||(n+=" (You'll need to log on first)"),$div.removeClass("followed"),autoTooltip?($div.attr("data-enabletooltip","true"),$div.attr("data-tooltip",n),$div.attr("data-width","125px"),autoTooltip($div)):$div.attr("title",n),t.attr("src","/images/follow.png")))}),typeof r.attributeUIUpdated=="undefined"){r.attributeUIUpdated=!0;try{n=new Event("followAttributeUIUpdated");window.dispatchEvent(n)}catch(i){}}})},vt=function(){o=undefined;d()},g=function(n,t,i){var f,u,s,c,l,v,y;r.$timelineBody.scrollTop(0);i=i||"getNewer";var e=n.verbosity||"Full",o=n.numberOfColumns||1,a=r.events&&r.events.length>0;if(r.stickies=r.stickies||[],r.events=r.events||[],r.announcements=r.announcements||[],i==="getNewer"?r.events=t.concat(r.events):i==="getOlder"&&(r.events=r.events.concat(t)),f="",r.stickies&&r.stickies.length>0)for(u=0;u<r.stickies.length;u++)f+=h(r.stickies[u],e);if(r.events)for(u=r.events.length-1;u>0;u--)for(s=0;s<u;s++)if(r.events[u]&&r.events[u].Item&&r.events[u].Item.ObjectId==r.events[s].Item.ObjectId&&r.events[u].Item.ObjectTypeId==r.events[s].Item.ObjectTypeId){r.events.splice(u,1);break}if(r.events&&r.events.length>0){for(f+=`<div class="container-cards container-cards-${o}">`,u=0;u<r.events.length;u++){r.announcements&&(c=r.announcements.length>0&&(o>1?columnNumber%o==1:u===1),l=r.announcements.length>1&&u>2&&(o>1?columnNumber%o==1:u===3),o>1&&(c||l)&&(f+='<div style="width:100%">'),c?f+=h(r.announcements[0],e):l&&(f+=h(r.announcements[1],e)),o>1&&(c||l)&&(f+="<\/div>"));let t=nt(n,r.events[u],e,a);t&&(f+='<div class="card">'+t+"<\/div>")}f+="<\/div>"}if((!r.events||r.events.length<2)&&r.announcements.length>0&&(f+=h(r.announcements[0],e)),(!r.events||r.events.length<4)&&r.announcements.length>1&&(f+=h(r.announcements[1],e)),f||(v={EventTypeName:"Posted",OccuredAt:(new Date).toString(),Member:{Name:"CodeProject",Url:"/"},Item:{ObjectTypeName:"message",Title:"No items have been posted matching this filter",Url:"/",Description:""}},f=nt(n,v,e,a),f="<p>No items have been posted matching this filter<\/p>"),r.$timelineBody.html(f),a&&r.$timelineBody.find(".fade-expand.hidden").removeClass("hidden"),i==="getNewer"&&w(0),setTimeout(b(r.$timelineBody),1e3),typeof bookmark!="undefined"&&bookmark.Initialise&&bookmark.Initialise(),typeof r.timelineUIUpdated=="undefined"){r.timelineUIUpdated=!0;try{y=new Event("followTimelineUIUpdated");r.$timelineContainer[0].dispatchEvent(y)}catch(p){}}},h=function(n,t){var i="",r;return typeof n!="undefined"&&n!==null&&(t==="Full"||t==="Medium"?(i+='<div class="content-list-item">',i+=n.IsMinor?'<div class="minor">':"<div>",r="",n.IconUrl&&(i+='<div class="thumbnail">',n.Url&&(i+='<a href="'+n.Url+'">'),i+='<img src="'+n.IconUrl+'" style="max-width:80px;height:auto;margin-top:25px">',n.Url&&(i+="<\/a>"),i+="<\/div>",r+="feature text"),i+='<div class="'+r+'">',n.Title&&(i+="<h3>",n.Url&&(i+='<a href="'+n.Url+'">'),i+=n.Title,n.Url&&(i+="<\/a>"),i+="<\/h3>"),i+=n.Description,i+="<\/div>\n",i+="<\/div>\n",i+="<\/div>\n"):n.Title&&(i+=n.IsMinor?'<div class="message-list-item minor">':'<div class="message-list-item">',i+='<div class="title">',n.Url&&(i+='<a href="'+n.Url+'">'),i+=n.Title,n.Url&&(i+="<\/a>"),i+="<\/div>\n",i+="<\/div>\n")),i},yt=function(n,t,i,r){var o="",f="",p,h,w,e,c,b,v;if(typeof t!="undefined"&&t!==null&&t.Member!==null&&t.Item!==null){var l=t.Member,u=t.Item,k=u.ObjectSubtypeName!==null?u.ObjectSubtypeName:u.ObjectTypeName,a="";if(t.ThumbnailSrc&&t.ThumbnailSrc.toLowerCase().indexOf(n.articleImageDir)>=0&&(t.ThumbnailSrc=""),n.usePexelForTypeImages&&!t.ThumbnailSrc&&(p=y[Math.floor(Math.random()*y.length)],t.ThumbnailSrc="https://images.pexels.com/photos/"+p+"/pexels-photo-"+p+".jpeg?w=200"),h="",t.ThumbnailUrl&&t.ThumbnailSrc?h='<div class="thumbnail">'+`<a href="${t.ThumbnailUrl}"><img src="${t.ThumbnailSrc}" /></a>`+"<\/div>":n.numberOfColumns==1&&(h='<div class="thumbnail"><\/div>'),w="",typeof u.Count!="undefined"&&u.Count!==null&&(w+='<div class="count" title="'+u.CountDescription+'">'+u.Count+" <\/div>"),e="",u.AssociatedObject&&u.AssociatedObjectUrl&&(e=' on <span class="location"><a href="'+u.AssociatedObjectUrl+'">'+u.AssociatedObject+"<\/a><\/span>"),c="",b=0,t.Attributes)for(let n=0;n<t.Attributes.length;n++)if(c+='<div class="t"><a data-id="'+t.Attributes[n].AttributeId+'" href="'+t.Attributes[n].Url+'">'+t.Attributes[n].TagName+"<\/a><\/div>",++b===tt&&n<t.Attributes.length-1){c+='<div class="t" title="...and more">...<\/div>';break}i==="Full"?(f=(r?"content-list-item fade-expand hidden":"content-list-item")+" "+i.toLowerCase(),n.emitReadLaterMarker&&u.ObjectRefGuid&&(a='<span data-type="bookmark" data-ref="'+u.ObjectRefGuid+'" data-mode="readlater" data-size="small"><\/span> &nbsp;'),o=rt.replaceAll("%className%",f).replaceAll("%thumbnail%",h).replaceAll("%itemTitle%",u.Title).replaceAll("%itemUrl%",u.Url).replaceAll("%readLater%",a).replaceAll("%evntOccuredAt%",s(t.OccuredAt)).replaceAll("%memberName%",l.Name).replaceAll("%memberUrl%",l.Url).replaceAll("%associatedInfo%",e).replaceAll("%itemDescription%",u.Description).replaceAll("%tags%",c)):i==="Medium"?(f=(r?"content-list-item fade-expand hidden":"content-list-item")+" "+i.toLowerCase(),n.emitReadLaterMarker&&u.ObjectRefGuid&&(a='<span data-type="bookmark" data-ref="'+u.ObjectRefGuid+'" data-mode="readlater" data-size="small" class="align-center"><\/span>'),o=ut.replaceAll("%className%",f).replaceAll("%thumbnail%",h).replaceAll("%itemTitle%",u.Title).replaceAll("%itemUrl%",u.Url).replaceAll("%readLater%",a).replaceAll("%evntOccuredAt%",s(t.OccuredAt)).replaceAll("%memberName%",l.Name).replaceAll("%memberUrl%",l.Url).replaceAll("%associatedInfo%",e).replaceAll("%itemDescription%",u.Description).replaceAll("%tags%",c)):i==="SingleLine"?(v=u.Title,v===null&&(v=k+" on "),f=r?"message-list-item fade-expand hidden":"message-list-item",u.AssociatedObject&&u.AssociatedObjectUrl&&(e=' - <span class="location"><a href="'+u.AssociatedObjectUrl+'">'+u.AssociatedObject+"<\/a><\/span>"),o=ft.replaceAll("%className%",f).replaceAll("%itemCount%",w).replaceAll("%itemTitle%",v).replaceAll("%itemUrl%",u.Url).replaceAll("%associatedInfo%",e)):o="<div>Invalid display mode<\/div>"}return o},pt=function(n,t,i,r){var u="",o="",c,l,a;if(typeof t!="undefined"&&t!==null&&t.Member!==null&&t.Item!==null&&t.SecondaryItem!==null){var h=t.Member,e=t.Item,f=t.SecondaryItem,p=e.ObjectSubtypeName!==null?e.ObjectSubtypeName:e.ObjectTypeName,v="entered in",y="in";switch(t.EventTypeName){case"EnteredContest":v="entered";y="in";break;case"WonPrize":v="won a prize in";y="for"}return i==="Full"?(o=r?"content-list-item fade-expand hidden":"content-list-item",u+='<div class="'+o+'">',u+='<div class="">',u+='<div class="thumbnail">',c=t.ThumbnailSrc?'<img src="'+t.ThumbnailSrc+'"/>':'<img src="/script/Contests/Images/award100.png" style="width:400px;height:auto" />',u+=t.ThumbnailUrl?'<a href="'+t.ThumbnailUrl+'">'+c+" <\/a>":c,u+="<\/div>\n",u+='<div class="text">',l=t.Item&&t.Item.Title?"the "+t.Item.Title:"a contest",a=t.Item&&t.Item.Url?t.Item.Url:null,u+='<div class="title">',u+='<a href="'+h.Url+'">'+h.Name+"<\/a> "+v,u+=a?' <a href="'+a+'">'+l+"<\/a>":" "+l,f.Url&&f.Title&&(u+=y+' <a href="'+f.Url+'">'+f.Title+"<\/a> "),u+="<\/div>\n",u+='<div class="entry">',u+=' <span title="'+s(t.OccuredAt)+'">'+s(t.OccuredAt)+"<\/span>",u+="<\/div>\n",f.Description&&(u+='<div class="description"><a href="'+f.Url+'">'+f.Description+"<\/a><\/div>"),u+="<\/div>\n",u+="<\/div>\n",u+="<\/div>\n"):i==="Medium"?(o=(r?"content-list-item fade-expand hidden":"content-list-item")+" "+i.toLowerCase(),u+='<div class="'+o+'">',u+='<div class="title">',u+='<a href="'+h.Url+'">'+h.Name+"<\/a> "+v,l=t.Item&&t.Item.Title?"the "+t.Item.Title:"a contest",a=t.Item&&t.Item.Url?t.Item.Url:null,u+=a?' <a href="'+a+'">'+l+"<\/a>":" "+l,u+="<\/div>\n",u+='<div class="entry">',n.emitReadLaterMarker&&f.ObjectRefGuid&&(u+='<span data-type="bookmark" data-ref="'+f.ObjectRefGuid+'" data-mode="readlater" data-size="small"><\/span> &nbsp;'),u+=' <span title="'+s(t.OccuredAt)+'">'+s(t.OccuredAt)+"<\/span>",u+="<\/div>\n",u+="<div>",u+='<div class="thumbnail">',c=t.ThumbnailSrc?'<img src="'+t.ThumbnailSrc+'"/>':'<img src="/script/Contests/Images/award100.png" style="width:300px;height:auto" />',u+=t.ThumbnailUrl?'<a href="'+t.ThumbnailUrl+'">'+c+" <\/a>":c,u+="<\/div>\n",f.Description&&e.Title&&(u+='<div class="text">'+f.Description+" in "+e.Title+"<\/div>"),u+="<\/div>\n",u+="<\/div>\n"):i==="SingleLine"?(o=r?"message-list-item fade-expand hidden":"message-list-item",u+='<div class="'+o+'">',u+='<div class="title"><a href="'+h.Url+'">'+h.Name+"<\/a> "+v,f.Title&&f.Url&&(u+=' <a href="'+f.Url+'">'+f.Title+"<\/a> "),e.Title&&e.Url&&(u+=y+' <a href="'+e.Url+'">'+e.Title+"<\/a>"),u+="<\/div><\/div>\n"):u="<div>Invalid display mode<\/div>",u}},nt=function(n,t,i,r){if(t)switch(t.EventTypeName){case"Posted":case"Updated":return yt(n,t,i,r);case"EnteredContest":case"WonPrize":return pt(n,t,i,r)}return""},s=function(n){var t=Math.round((new Date-Date.parse(n))/1e3),r=60,u=r*60,i=u*24,f=i*7,e=i*30,o=i*365;return t<5?"just then.":t<r?t+" seconds ago.":t<2*r?"a minute ago.":t<u?Math.floor(t/r)+" minutes ago.":Math.floor(t/u)===1?"1 hour ago.":t<i?Math.floor(t/u)+" hours ago.":t<i*2?"yesterday":t<f?Math.floor(t/i)+" days ago.":t<f*2?"last week":t<e?Math.floor(t/f)+" weeks ago.":t<e*2?"last month":t<o?Math.floor(t/e)+" months ago.":t<o*2?"last year":Math.floor(t/o)+" years ago."},l=function(n,t){var i,u,e;return t=t||"getNewer",i=null,u=null,t==="getNewer"?(i=r.events!==null&&r.events.length>0?r.events[0].EventId:null,r.$timelineLoadTopBtn.addClass("spin")):t==="getOlder"&&(e=r.events?r.events.length||0:0,u=r.events&&e&&r.events[e-1]?r.events[e-1].EventId:null,r.$timelineLoadBottomBtn.addClass("spin")),(typeof n.criteria=="undefined"||n.criteria===null?f("GetTimeline",{categoryId:n.contentCategoryId,sinceEventId:i,beforeEventId:u,filter:n.filter,pageSize:n.pageSize,reduceDuplicateItems:n.reduceDuplicateItems}):f("GetTimelineForCriteria",{categoryId:n.contentCategoryId,criteria:n.criteria,sinceEventId:i,beforeEventId:u,pageSize:n.pageSize,reduceDuplicateItems:n.reduceDuplicateItems})).done(function(i){var f,u;if(i){if(t==="getOlder"&&$.isArray(i.Events)&&i.TotalEvents===i.Events.length&&r.$timelineLoadBottomBtn.hide(),$.isArray(i.Events))for(f=0;f<i.Events.length;f++)u=i.Events[f],typeof u.OccuredAt=="string"&&u.OccuredAt[0]==="/"&&(u.OccuredAt=new Date(parseInt(u.OccuredAt.substr(6))));g(n,i.Events,t)}}).always(function(){r.$timelineLoadTopBtn.removeClass("spin");r.$timelineLoadBottomBtn.removeClass("spin")})},wt=function(n){(typeof n!="string"||n.length===0)&&dfd.reject("followService: BaseUrl not valid");n[n.length-1]!=="/"&&(n+="/");e=n},bt=function(n,t){var i=new $.Deferred;return r.$followButton=$("#"+n.followButtonId),r.$unfollowButton=$("#"+n.unfollowButtonId),r.$followButton.click(function(){u?(r.$followButton.addClass("processing"),et(n.item)):window.location.href="/script/Membership/Logon.aspx"}),r.$unfollowButton.click(function(){u?(r.$unfollowButton.addClass("processing"),ot(n.item)):window.location.href="/script/Membership/Logon.aspx"}),typeof t!="undefined"&&p!==null?(c(t),i.resolve()):p(n.item).done(function(){i.resolve()}).fail(function(n){i.reject(n)}),i.promise()},kt=function(n,t,i,u){var h=new $.Deferred,o,s,f;return typeof e!="string"||e.length===0?h.reject("followService: BaseUrl not valid"):(n.articleImageDir=(n.articleImageDir||"/script/Articles/images").toLowerCase(),n.refreshMillisecs=n.refreshMillisecs||0,n.verbosity=n.verbosity||"Full",n.numberOfColumns=n.numberOfColumns||1,n.autoload=n.autoload||!1,n.allowLoadMore=n.allowLoadMore||!1,n.emitReadLaterMarker=n.emitReadLaterMarker||!1,n.usePexelForTypeImages=n.usePexelForTypeImages||!1,n.usePexelForTypeImages=!1,r.events=r.events||[],r.stickies=i||[],r.announcements=u||[],r.allowLoadMore=n.allowLoadMore,o=n.verbosity==="Full"?"content-list":"message-list",s="",n.autoload&&(s='<label class="autoload invisible"><input type="checkbox" />Auto Load<\/label>'),f=$("#"+n.timelineContainerId),f.append('<div class="header"><button class="load invisible" style="margin-top:-20px"><span class="count">No <\/span>New <img src="/images/refresh.gif" width="16" height="16" /><\/button>'+s+"<\/div>").append('<div class="'+o+'"><\/div>').append('<div class="footer"><button class="load invisible"> Load More <img src="/images/refresh.gif" width="16" height="16" class="hidden" /><\/button><\/div>'),r.$timelineContainer=f,r.$timelineHeader=$(".header",f),r.$timelineBody=$("."+o,f),r.$timelineFooter=$(".footer",f),r.$timelineCount=$(".count",f),r.$timelineLoadTopBtn=$(".load",r.$timelineHeader),r.$timelineLoadBottomBtn=$(".load",r.$timelineFooter),r.$timelineAutoLoad=$(".autoload input",f),$.isArray(t)?g(n,t,"getNewer"):l(n,"getNewer"),n.refreshMillisecs>0&&(n.autoload?window.setInterval(l,n.refreshMillisecs,n,"getNewer"):window.setInterval(st,n.refreshMillisecs,n),r.$timelineLoadTopBtn.click(function(){l(n,"getNewer")})),r.$timelineLoadBottomBtn.click(function(){l(n,"getOlder")}),r.allowLoadMore&&r.$timelineLoadBottomBtn.show(),h.promise())};return wt(n||"/script/follow/webservices/FollowServices.aspx/"),{initFollowObjectButtons:bt,initTimelineUI:kt,initAttributeUI:b}}function NavBarMenu(n,t){"use strict";var o=this,s=100,h=500,r=0,c=0,i=0,u=0,p=n,f=t,l=function(){r&&(window.clearTimeout(r),r=null)},a=function(){l();e();u&&(i=$(u).addClass("open"))},e=function(){if(i){if(i.attr("over")||i.find("[over=true]").length>0)return;i.removeClass("open");i.parents("[over!=true].open").removeClass("open")}if(i){var n=i.parents("[over=true]");i=n.length>0?$(n[0]):null}},v=function(){u=this;r=window.setTimeout(a,i?0:s)},y=function(){u=0;c=window.setTimeout(e,h)};this.InitMenu=function(){$&&(("ontouchstart"in window||navigator.msMaxTouchPoints||navigator.userAgent.toLowerCase().match(/windows phone os 7/i))&&$(f).doubleTapToGo(),$(f+".openable").hover(v,y),$(f).hover(function(){$(this).attr("over","true")},function(){$(this).removeAttr("over")}),$(document).click(o.CloseMenu))};this.ShowMap=function(n,t){var i=$("#"+t),r,u,f;n.populated||n.populating||(n.populating=!0,r=i.parent(),r.css({position:"relative"}),u={lines:13,length:32,width:14,radius:23,scale:.13,corners:1,opacity:.25,rotate:0,direction:1,speed:1,trail:60,color:"#666",fadeColor:"transparent",left:r.width()-30+"px"},f=new Spinner(u).spin(r[0]),i.load("/script/content/Ajax/SiteMap.aspx",function(){n.populated=!0;f.stop()}),window.setTimeout(this.InitMenu,200),n.populated=!0,n.populating=!1);n.populated&&(this.InitMenu(),i.css("width","auto"),i.css("height","auto"))};$.fn.doubleTapToGo=function(){return!("ontouchstart"in window)&&!navigator.msMaxTouchPoints&&!navigator.userAgent.toLowerCase().match(/windows phone os 7/i)?!1:(this.each(function(){if($(this).hasClass("openable")){var n=!1;$(this).on("touchstart",function(t){var i=$(this);n&&i[0]===n[0]||(n&&n.removeClass("open"),t.preventDefault(),n=i,i.addClass("open"))});$(document).on("touchstart MSPointerDown",function(t){var r,i;if(n&&t.target!==n[0]){for(r=$(t.target).parents(),i=0;i<r.length;i++)if(r[i]===n[0])return;n&&n.removeClass("open");n=!1}})}}),this)}}function InitWatermark(n,t){var i=$("#"+n),r;i&&(i.blur(function(){UpdateWatermark(this,t)}),i.focus(function(){UpdateWatermark(this,t)}),r=$.trim(i.val()),r===""||r===t?(i.val(t),i.addClass("subdue")):r!==""&&r!==t&&i.removeClass("subdue"))}function UpdateWatermark(n,t){if(n){var i=$.trim($(n).val());i===t&&$(n).hasClass("subdue")?($(n).val(""),$(n).removeClass("subdue")):i!==""||$(n).hasClass("subdue")?$(n).removeClass("subdue"):($(n).val(t),$(n).addClass("subdue"))}}function NotificationAlert(n,t,i){var o=this,r=$("#"+n),u=$("#"+t),f=i,e=function(){r.populated||r.populating||(r.populating=!0,u.load(f,{cache:!1},function(){r.populated=!0}),r.populated=!0,r.populating=!1)};this.MarkAsRead=function(n,t,i,r){var u=$("#"+i),f=u.html();return u.html('<img src="/images/loading16.gif" align="absmiddle" style="border:0" />'),$.ajax({type:"POST",cache:!1,url:t,data:"{notificationId: "+n+"}",contentType:"application/json; charset=utf-8",dataType:"json",timeout:5e3}).done(function(){u.remove();$("#"+r).children().first().removeClass("bold")}).fail(function(){u.html(f)}),!1};this.initialise=function(){$(r).on("mouseover",e)}}function RatingControl(n,t){"use strict";function h(n,t){var r,i;if(!t)return n;if(!n)return t;r={};for(i in n)r[i]=n[i];for(i in t)r[i]=t[i];return r}function r(t,r){var e,f,o,s,h,c,l;if(t)if(e=function(){var n=$(this).find("a.undo");u.unrateItem(n.attr("data-ratingHistoryId"),n.attr("data-reference"))},i.ratingCallback)i.ratingCallback(t,r,e);else{if(f=$(n),!f.length)return;o=$(i.resultSelector+">div",f);s=$(".rating-votes",f);r?(o.replaceWith(u.getRatingImage(t.score)),s.html(t.rating),t.ratingHistoryId?(h='<a class="undo" data-ratingHistoryId="'+t.ratingHistoryId+'" data-reference="'+t.reference+'"><img style="border:0;width:16px;height:16px" title="undo" src="'+i.staticServer+'/images/undo_24.png"><\/a>',$(".rating-undo",f).html(h).off("click").click(e).show()):$(".rating-undo",f).hide(),c=$(".histogram",f),c.removeAttr("data-processed")):(l=t.error||"There was an error casting your vote",o.html(l),s.html(""))}}function o(n){if(n.length)e=new Spinner({length:8,width:3,radius:6,trail:50,shadow:!1,color:"#666"}).spin(n[0])}function f(){e&&e.stop()}var s={objectRef:null,objectTypeName:"item",objSubtypeId:0,ratingCallback:undefined,ratingDisplayMode:"LargeStars",resultDisplayMode:"LargeStars",votingType:"RatingScale",staticServer:"",baseDir:"/script/ratings/",ratingUrl:"ajax/RateItem.aspx",histogramUrl:"ajax/Histogram.aspx",getBulkRatingUrl:"ajax/GetRatings.aspx",votingWrapClass:"rating-vote",resultWrapClass:"rating-result",bulkResultSelector:undefined,minRating:1,maxRating:5,histogramWidth:130,barCellWidth:24,barCellHeight:12,forceComment:!1,lowVoteThreshold:0},u=this,i={},e=null;this.getStarImage=function(n,t){var r=i.staticServer+i.baseDir+"images/";switch(n){case"SmallStars":return{url:r+(t?"star-fill-sm.png":"star-empty-sm.png"),size:12};case"MediumStars":return{url:r+(t?"star-fill-md.png":"star-empty-md.png"),size:16};case"LargeStars":return{url:r+(t?"star-fill-lg.png":"star-empty-lg.png"),size:24}}return{url:"",size:0}};this.setConfig=function(n,t){i[n]=t};this.getRatingImage=function(n,t,r){var u="",f,s,e,o,h,c,l;if(t=t||i.votingType,r=r||i.resultDisplayMode,t==="RatingScale")if(r==="RatingBar"){for(u="<div class='flex-container rating-bar'>",f=i.minRating;f<=i.maxRating;f++)u+="<div style='height:"+i.barCellHeight+"px;",f<=Math.floor(n)?u+="width:"+i.barCellWidth+"px;background-color:red;'><\/div>":f===Math.ceil(n)?(s=Math.round((n-Math.floor(n))*i.barCellWidth,0),u+="width:"+s+"px;background-color:red;'><\/div>",s<i.barCellWidth&&(u+="<div style='height:"+i.barCellHeight+"px;width:"+(i.barCellWidth-s)+"px;background-color:white;'><\/div>")):u+="width:"+i.barCellWidth+"px;background-color:white;'><\/div>";u+="<\/div>"}else{for(e=this.getStarImage(i.ratingDisplayMode,!0),o=this.getStarImage(i.ratingDisplayMode,!1),u="<div class='flex-container rating-stars'>",h=Math.floor(n),f=i.minRating;f<=h;f++)u+="<div><img src='"+e.url+"'  style='width:"+e.size+"px;height:"+e.size+"px'><\/div>";if(n<i.maxRating)for(c=Math.round(e.size*(n-h)),l=e.size-c,c>0&&(u+="<div style='width:"+c+"px;' class='clipped'><img src='"+e.url+"'  style='width:"+e.size+"px;height:"+e.size+"px'><\/div>"),l>0&&(u+="<div style='width:"+l+"px;position:relative' class='clipped'><img src='"+o.url+"'  style='width:"+o.size+"px;height:"+o.size+"px;position:absolute;top:0;right:0'><\/div>"),f=h+2;f<=i.maxRating;f++)u+="<div><img src='"+o.url+"'  style='width:"+o.size+"px;height:"+o.size+"px;'><\/div>";u+="<\/div>"}return u};this.getVoteFormHtml=function(n,t,r){var u="",o=i.staticServer+i.baseDir+"images/",e,f,s,h;if(r=r||i.votingType,n=n||i.objectRef,t=t||i.ownerId,e='data-ownerid="'+t+'" data-objectref="'+n+'"',r==="GoodOrBad"||r==="UpVoteOnly")u+='<div class="'+i.votingWrapClass+'">\n',u+="<div><a "+e+' data-rating="'+i.maxRating+'"><img height="16" width="16" src="'+o+'upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle" /><\/a><\/div>\n',u+=r==="GoodOrBad"?"<div><a "+e+' data-rating="'+i.minRating+'"><img height="16" width="16" src="'+o+'downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle" /><\/a><\/div>\n':'<div><img height="16" width="16" src="'+o+'nodownvote16.png" alt="downvoting not available" title="downvoting not available" border="0" align="absmiddle" /><\/div>\n',u+="<\/div>\n";else if(r==="RatingScale"){if(i.ratingDisplayMode==="TextOnly"){for(u+='<div class="'+i.votingWrapClass+' rating-text">\n',u+="Rate: <a "+e+' data-rating="'+i.minRating+'"><img height="14" width="14" src="'+o+'thmbdn.png"  alt="vote '+i.minRating+'" border="0" align="absmiddle" /><\/a>\n',f=i.minRating;f<=i.maxRating;f++)u+="<a "+e+' data-rating="'+f+'"  title="rate this '+i.objectTypeName+" "+f+'">'+f+"<\/a>\n";u+="<a "+e+' data-rating="'+i.maxRating+'"><img height="14" width="14" src="'+o+'thmbup.png" border="0"  alt="vote '+i.maxRating+'" align="absmiddle" /><\/a>\n';u+="<\/div>\n"}else{s="rating-stars invisible";h=this.getStarImage(i.ratingDisplayMode,!0);switch(i.ratingDisplayMode){case"SmallStars":s="rating-stars small-stars invisible";break;case"MediumStars":s="rating-stars medium-stars invisible";break;case"LargeStars":s="rating-stars large-stars invisible"}for(u+='<div class="'+i.votingWrapClass+" "+s+'">\n',f=i.minRating;f<=i.maxRating;f++)u+="<a "+e+' data-rating="'+f+'"  title="rate this '+i.objectTypeName+" "+f+'"><img class="rating-star" border="0" src="'+h.url+'"><\/a>';u+="<\/div>\n"}u+="\n<\/div>"}return u};this.getVotesHistogram=function(n){if(!n.attr("data-processed")){o(n);var t=i.getHistogramHtmlUrl+"?obrfgd="+i.objectRef+"&wd="+i.histogramWidth;$.ajax({url:t}).done(function(t){f();n.html(t)}).fail(function(){}).always(function(){f()});n.attr("data-processed","true")}};this.rateItem=function(t,u,e){var s,h,c;return u=u||i.objectRef,e=e||i.ownerId,u&&(s="",h=$(n).find(".rating-comment"),h.length&&(s=h.val().replace(/^\s+|\s+$/g,"")),t<=0?r({message:"You must select a value to vote",reference:u},!1):t<=i.lowVoteThreshold&&!s&&i.forceComment?r({message:"You must provide a comment",reference:u},!1):t>i.lowVoteThreshold&&(o($(n).find(i.votingSelector)),c=i.ratingUrl+"?obrfgd="+u+"&rvv="+t+"&rvmid="+e+"&obstid="+i.objSubtypeId+"&wd="+i.histogramWidth+(s?"&rvc="+escape(s):"")+(i.ratingDisplayMode?"&rdm="+i.ratingDisplayMode:"")+(i.votingMode?"&rvm="+i.votingMode:""),$.get(c,function(n){f();r(n.data,n.success);h.val("")}).fail(function(n,t){r({message:t,reference:u},!1)}).always(function(){f()}))),!1};this.unrateItem=function(t,u){if(u=u||i.objectRef,u)if(t){o($(n).find(i.votingSelector));var e=i.ratingUrl+"?undo=true&obrfgd="+u+"&rvhid="+t+"&wd="+i.histogramWidth+(i.ratingDisplayMode?"&rdm="+i.ratingDisplayMode:"")+(i.votingMode?"&rvm="+i.votingMode:"");$.get(e,function(n){f();n.data.ratingHistoryId=0;r(n.data,n.success)}).fail(function(n,t){r({message:t,reference:u},!1)}).always(function(){f()})}else r({message:"You must supply a rating history ID",reference:u},!1);return!1};var c=function(n){i.ratingDisplayMode!=="None"&&$(n).each(function(){var n="";($(i.resultSelector,this).each(function(){n&&(n+=",");n+=$(this).attr("data-objectref")||""}),n)&&$.ajax({type:"POST",url:i.getBulkRatingsUrl,data:"obrfgd="+n,timeout:5e3}).done(function(n){if(n&&n.data&&n.data.length)for(var t=0;t<n.data.length;t++)r(n.data[t],n.success)}).fail(function(){})})},l=function(n){$(n).each(function(){var t;if(i.votingType!=="None"){var n=$(i.votingSelector,this),r=n.attr("data-objectref")||i.objectRef,f=parseInt(n.attr("data-ownerid"))||i.ownerId,e=n.attr("data-votingtype")||i.votingType;n.replaceWith(u.getVoteFormHtml(r,f,e));n=$(i.votingSelector,this);a(n)}t=$(".histogram",this);$(".tooltip",this).mouseenter(function(){u.getVotesHistogram(t)})})},a=function(n){if($("a",n).each(function(){$(this).click(function(){var n=this.getAttribute("data-objectref")||i.objectRef,t=parseInt(this.getAttribute("data-rating"))||0,r=parseInt(this.getAttribute("data-ownerid"))||i.ownerId;u.rateItem(t,n,r)})}),i.ratingDisplayMode==="SmallStars"||i.ratingDisplayMode==="MediumStars"||i.ratingDisplayMode==="LargeStars"){var t=u.getStarImage(i.ratingDisplayMode,!0).url,r=u.getStarImage(i.ratingDisplayMode,!1).url;$(".rating-star",n).each(function(){$(this).hover(function(){$(this).attr("src",t);$(this).parent().prevAll().find("img").attr("src",t);$(this).parent().nextAll().find("img").attr("src",r)},function(){$(this).parent().siblings().addBack().find("img").attr("src",r)})})}};i=h(s,t);i.votingSelector="."+i.votingWrapClass;i.resultSelector="."+i.resultWrapClass;i.ratingUrl=i.baseDir+i.ratingUrl;i.getBulkRatingsUrl=i.baseDir+i.getBulkRatingUrl;i.getHistogramHtmlUrl=i.baseDir+i.histogramUrl;c(i.bulkResultSelector||n);l(n)}function ReactionControl(n,t){"use strict";function h(n,t){var r,i;if(!t)return n;if(!n)return t;r={};for(i in n)r[i]=n[i];for(i in t)r[i]=t[i];return r}function r(t,r,u){var s,e,o,h,c,l;if(t)if(s=function(){var n=$(this).find("a.undo");f.unreactToItem(n.attr("data-reactionHistoryId"),n.attr("data-reference"))},i.reactionCallback)i.reactionCallback(t,r,s,u);else{if(e=$(n),!e.length)return;o=$(i.resultSelector+">div",e);r?(o.replaceWith(f.getReactionHtml(t.reactionCounts)),u&&o.addClass("pulse-highlight"),t.reactionHistoryId?(h='<a class="undo" data-reactionHistoryId="'+t.reactionHistoryId+'" data-reference="'+t.reference+'"><img style="border:0;width:16px;height:16px" title="undo" src="'+i.staticServer+'/images/undo_24.png"><\/a>',$(".reaction-undo",e).html(h).off("click").click(s).show()):$(".reaction-undo",e).hide(),c=$(".reactor-list",e),c.removeAttr("data-processed")):(l=t.error||"There was an error storing your reaction",o.html(l))}}function o(n){if(n.length)e=new Spinner({length:8,width:3,radius:6,trail:50,shadow:!1,color:"#666"}).spin(n[0])}function u(){e&&e.stop()}var s={objectRef:null,objectTypeName:"item",objSubtypeId:0,reactionCallback:undefined,staticServer:"",baseDir:"/script/reactions/",imageDir:"images/",reactionUrl:"ajax/ReactToItem.aspx",getBulkReactionsUrl:"webservices/ReactionServices.aspx/GetReactions",getReactorsUrl:"webservices/ReactionServices.aspx/GetReactors",votingWrapClass:"reaction-vote",resultWrapClass:"reaction-result",bulkResultSelector:undefined,reactorListWidth:200},f=this,i={},e=null;this.setConfig=function(n,t){i[n]=t};this.getReactionHtml=function(n){for(var t,u=!1,i=u?"<div class='flex-container reaction-icons tooltip'>":"<span class='reaction-icons tooltip'>",r=0;r<n.length;r++)t=n[r],i+=u?"<div>"+t.emoji+"<span class='badge'>"+t.count+"<\/span><\/div>":"<span>"+t.emoji+"<span class='badge'>"+t.count+"<\/span><\/span>";return i+='<div class="speech-bubble-container-up-right" style="width:auto"><div class="speech-bubble-up-right"><div class="reactors-list"><\/div><\/div><div class="speech-bubble-pointer-up-right"><div class="speech-bubble-pointer-up-right-inner"><\/div><\/div><\/div>',i+"<\/div>"};this.getReactionFormHtml=function(n,t){var r="",e,o,u,f;for(n=n||i.objectRef,t=t||i.ownerId,e=i.staticServer+i.baseDir+i.imageDir+"reaction_34.png",o='data-ownerid="'+t+'" data-objectref="'+n+'"',r+='<div class="'+i.votingWrapClass+' reactions tooltip">\n',r+='<span class="emoji"><img src="'+e+'" style="width:17px;opacity:0.6;" alt="React" /><\/span>',r+='<div class="tooltip-flyout">',u=0;u<i.reactions.length;u++)f=i.reactions[u],r+="<a "+o+' data-reaction="'+f.id+'"  title="React with '+f.name+'">'+f.emoji+"<\/a>";return r+"<\/div><\/div>\n"};this.getReactorsList=function(n,t){n.attr("data-processed")||(o(n),$.ajax({type:"POST",url:i.getReactorsUrl,data:JSON.stringify({objectReference:t}),contentType:"application/json; charset=utf-8",dataType:"json",timeout:5e3}).done(function(t){var r,i,e,f;if(u(),r="",t&&t.d&&t.d.reactions&&t.d.totalReactions){for(r+="<table cellpadding='7'>",i=0,e=10,i=0;i<t.d.reactions.length&&i<e;i++)f=t.d.reactions[i],r+="<tr><td><img src='"+f.avatarUrl+"'><\/td><td nowrap>"+f.name+"<\/td><td class='emoji'>"+f.emoji+"<\/td><\/tr>";i<t.d.totalReactions&&(r+="<tr><td colspan='3'><br>...and "+(t.d.totalReactions-i)+" more<\/td><\/tr>");r+="<\/table>"}else r="Unable to retrieve list";n.html(r)}).fail(function(){}).always(function(){u()}),n.attr("data-processed","true"))};this.reactToItem=function(t,f,e){if(f=f||i.objectRef,e=e||i.ownerId,f){o($(n).find(i.reactionSelector));var s=i.reactionUrl+"?obrfgd="+f+"&rcttid="+t+"&rctmid="+e+"&obstid="+i.objSubtypeId;$.get(s,function(n){u();r(n.data,n.success,!0)}).fail(function(n,t){r({message:t,reference:f},!1)}).always(function(){u()})}return!1};this.unreactToItem=function(t,f){if(f=f||i.objectRef,f)if(t){o($(n).find(i.reactionSelector));var e=i.reactionUrl+"?undo=true&obrfgd="+f+"&rctrhid="+t;$.get(e,function(n){u();n.data.reactionHistoryId=0;r(n.data,n.success,!0)}).fail(function(n,t){r({message:t,reference:f},!1)}).always(function(){u()})}else r({message:"You must supply a reaction history ID",reference:f},!1);return!1};var c=function(n){$(n).each(function(){var n="";($(i.resultSelector,this).each(function(){n&&(n+=",");n+=$(this).attr("data-objectref")}),n)&&$.ajax({type:"POST",url:i.getBulkReactionsUrl,data:JSON.stringify({objectReferences:n}),contentType:"application/json; charset=utf-8",dataType:"json",timeout:5e3}).done(function(n){var i,t;if(n&&n.d&&n.d.data&&n.d.data.length)for(i=n.d.data,t=0;t<i.length;t++)r(i[t],n.d.success)}).fail(function(n,t){console.log(t)})})},l=function(n){$(n).each(function(){var n=$(i.reactionSelector,this),t=n.attr("data-objectref")||i.objectRef,u=parseInt(n.attr("data-ownerid"))||i.ownerId,r;n.replaceWith(f.getReactionFormHtml(t,u));n=$(i.reactionSelector,this);a(n);r=$(".reactors-list",this);$(".tooltip",this).mouseenter(function(){f.getReactorsList(r,t)})})},a=function(n){$("a",n).each(function(){$(this).click(function(){var n=$(this);n.addClass("animate-reaction");var t=this.getAttribute("data-objectref")||i.objectRef,r=parseInt(this.getAttribute("data-reaction"))||0,u=parseInt(this.getAttribute("data-ownerid"))||i.ownerId;f.reactToItem(r,t,u);setTimeout(function(){n.removeClass("animate-reaction")},1200)})})};i=h(s,t);i.reactionSelector="."+i.votingWrapClass;i.resultSelector="."+i.resultWrapClass;i.reactionUrl=i.baseDir+i.reactionUrl;i.getBulkReactionsUrl=i.baseDir+i.getBulkReactionsUrl;i.getReactorsUrl=i.baseDir+i.getReactorsUrl;c(i.bulkResultSelector||n);l(n)}function CodeBlocks(){let f=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 460 460" style="width: 16px;height:16px;" xml:space="preserve">
<g>
<path d="M425.934,0H171.662c-18.122,0-32.864,14.743-32.864,32.864v77.134h30V32.864c0-1.579,1.285-2.864,2.864-2.864h254.272
    c1.579,0,2.864,1.285,2.864,2.864v254.272c0,1.58-1.285,2.865-2.864,2.865h-74.729v30h74.729
    c18.121,0,32.864-14.743,32.864-32.865V32.864C458.797,14.743,444.055,0,425.934,0z"></path>
<path d="M288.339,139.998H34.068c-18.122,0-32.865,14.743-32.865,32.865v254.272C1.204,445.257,15.946,460,34.068,460h254.272
    c18.122,0,32.865-14.743,32.865-32.864V172.863C321.206,154.741,306.461,139.998,288.339,139.998z M288.341,430H34.068
    c-1.58,0-2.865-1.285-2.865-2.864V172.863c0-1.58,1.285-2.865,2.865-2.865h254.272c1.58,0,2.865,1.285,2.865,2.865v254.273h0.001
    C291.206,428.715,289.92,430,288.341,430z"></path>	
</g>
</svg>`;var n=400,t=!1,i=this,e=function(n){if(!n)return null;var t=n;return t=t.replace(/<span class="code-linenumber">[\s\d]*<\/span>/gi,""),t=$("<div/>").html(t).text().trim(),t.replace(/\r\n\r\n\r\n\r\n/,"\r\n\r\n")},o=function(n){return n?n.toLowerCase().replace("#","sharp").replace("+","plus").replace(/[^a-zA-Z0-9]/,""):"id"},r=function(n){if(!n)return"";switch(n){case"text":return"Plain Text";case"aspnet":return"ASP.NET";case"asp.net":return"ASP.NET";case"cs":return"C#";case"csharp":return"C#";case"c++":return"C++";case"vbnet":return"VB.NET";case"vb.net":return"VB.NET";case"mc++":return"C++ / CLI";case"css":return"CSS";case"delphi":return"Delphi";case"F#":return"F#";case"html":return"HTML";case"java":return"Java";case"kotlin":return"Kotlin";case"jscript":return"Javascript";case"asm":return"MASM / ASM";case"msil":return"MSIL";case"midl":return"MIDL";case"php":return"PHP";case"sql":return"SQL";case"vbscript":return"VBScript";case"xml":return"XML"}return n},u=function(i){var a,e,c,b,u,o,k,v,l,y,h,d,p,w;i.attr("data-codeblock-processed")!=="true"&&(a=i.attr("data-showheader"),a===undefined||a!=="false")&&((i.attr("data-codeblock-processed","true"),e=i.attr("id"),c=e&&e.length>3&&e.substring(0,3)==="pre",c||(b=i.prev(".pre-lang"),b.remove()),c?u=parseInt(e.substring(3)):(u=Math.floor(Math.random()*1e6+1),e="pre"+u,i.attr("id",e)),o="",i.css("margin-top","0"),c||(k=i.attr("lang")||i.attr("data-language"),o="<div class='pre-lang' id='premain"+u+"'><div>"+r(k)+"<\/div><div class='pre-action-link'><span class='copy-code' data-index='"+u+"' id='copycode"+u+"'>"+f+"<\/span><\/div><\/div>",i.before(o)),v=i.attr("data-allow-shrink"),v&&v.toLowerCase()==="false")||(l=t,y=i.attr("collapse")||i.attr("data-collapse"),y&&y.toLowerCase()==="true"&&(l=!0),h=i.height(),o="",(h<=0||h>n)&&(d=l&&h>0?"Expand ▼":"Shrink ▲",o+="<span class='code-collapse' data-index='"+u+"' id='preShrink"+u+"'>"+d+"<\/span> &nbsp; ",l&&h>0&&(i.css("overflow","auto"),i.height(n),i.attr("data-shrunk","true"))),p=i.prev(".pre-lang"),w=p.children(".pre-action-link"),w.length&&o&&w.prepend(o),s(p)))},s=function(n){n.find(".copy-code").click(function(){var n=parseInt($(this).attr("data-index"));i.copyCode(n)}).css("visibility","visible");n.find(".code-collapse").click(function(){var n=parseInt($(this).attr("data-index"));i.shrinkExpand(n)})},h=function(n){n.addClass("notranslate")},c=function(n){var t=document.createElement("textarea"),i,r;t.style.position="fixed";t.style.top=0;t.style.left=0;t.style.width="2em";t.style.height="2em";t.style.padding=0;t.style.border="none";t.style.outline="none";t.style.boxShadow="none";t.style.background="transparent";t.value=n;document.body.appendChild(t);t.select();try{i=document.execCommand("copy");r=i?"successful":"unsuccessful";console.log("Copying text command was "+r)}catch(u){console.log("Oops, unable to copy")}document.body.removeChild(t)};this.initialise=function(i,f,e){n=f||n;t=!!e;window.codeMultiBlockCount=window.codeMultiBlockCount||0;$(i+" div.code-samples").each(function(){var n=window.codeMultiBlockCount++,i=$(this),u,t,f;if(!i.attr("data-blockId")&&(i.attr("data-blockId",n.toString()),u=i.children("pre"),u.length>1)){var s="divTab-"+n,h="codeSampleTab-"+n,e=$("<div id='"+h+"' class='clearfix'><\/div>").insertAfter(i);$("<ul id='codeTab-"+n+"'><\/ul>").appendTo(e);t={};f="";u.each(function(){var u=$(this),a=u.attr("lang")||u.attr("data-language"),c=r(a),e=s+o(c),i=c,h=u.attr("version"),l;h&&(i+=" "+h,e+="-"+h);t[i]?(t[i]++,i+=" ("+t[i]+")",e+="-"+t[i]):t[i]=1;l=u.attr("title")||i;$("<li><a href='#"+e+"'><span>"+l+"<\/span><\/a><\/li>").appendTo("#codeTab-"+n);f+="<div id='"+e+"'><a name='"+e+"'><\/a><pre>"+u.html()+"<\/pre><\/div>"});$(f).insertAfter("#codeTab-"+n);i.hide();e.tabs()}});$(i+" pre").each(function(){var n=$(this);u(n);h(n)});var s=document.createElement("style");s.type="text/css";s.innerHTML=".copied::after {  position: absolute;  right: 0;  display: inline-block; white-space: nowrap; content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 8px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; } 70% { opacity: 1; } 100% { opacity: 0; } } ";document.body.appendChild(s)};this.process=function(n){$(n).find("PRE").each(function(){u($(this))})};this.shrinkExpand=function(t){var i=$("#pre"+t),r=$("#preShrink"+t);i.attr("data-shrunk")==="true"?(r.text(" Shrink ▲"),i.attr("data-shrunk","false"),i.height("auto")):(r.text(" Expand ▼"),i.attr("data-shrunk","true"),i.animate({height:Math.min(n,i.height())},"fast"))};this.copyCode=function(n){var r=$("#pre"+n),t=r.html(),i;return t?(t=e(t),!t)?!1:(c(t),i=$("#copycode"+n),i.addClass("copied"),setTimeout(function(){i.removeClass("copied")},1500),!1):!1}}function ForumControl(n,t,i){"use strict";function w(n){var t="";return n.ctrlKey&&(t+="CTRL+"),n.shiftKey&&(t+="SHIFT+"),n.altKey&&(t+="ALT+"),t}function b(n,t,i){var u,r,f;return(n||(n=event),u=n.keyCode?n.keyCode:n.charCode,r="",i[u]&&(r=i[u]),f=w(n),r=f+r,t.Combinations[r])?(t.Combinations[r](),n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,!1):!0}function k(){var n=document.forms.aspnetForm;n||(n=document.aspnetForm);n&&n.submit()}function e(n){var t=document.getElementById(n?"_mbpUrl":"_mbnUrl");t&&(location.href=t.value)}function o(n,t){var f,s,o,i,e,r;if(u!==null&&!isNaN(u)&&(f=$("#ForumTable tr.header"),f.length)){for(s=null,o=-1,i=0;i<f.length;i++){let n=f[i];if(e=n.id.substring(1,n.id.length-3),e=parseInt(e),e===u){o=i;break}}for(r=null,i=o+(n?1:-1);i<f.length&&i>=0;n?i++:i--){let n=f[i];if(t&&d(n)||!t){if(u<0&&n.childNodes[1].className.indexOf("sticky-msg")>=0)continue;r=n.id.substring(1,n.id.length-3);r=parseInt(r);break}}r&&r!==u&&l.SwitchMessage(null,r)}}function d(n){return n.className.indexOf("root")>=0}function g(){r.allowReporting&&r.getReportFormMethod&&$(n+" .reportform").each(function(){var n=$(this),t;n.attr("data-reportingsetup")||(t=parseInt(n.attr("msgid")||0),n.html(r.getReportFormMethod(t,r.messageTypeId,0,0,r.reportOptions)),n.attr("data-reportingsetup","true"))})}function nt(){$(n+" .content a").each(function(){this.rel="nofollow noopener"})}function v(n){$("#permalink_url_"+n)[0].select()}function y(n,t,i){n.src=t;n.title=i}function h(n){var t,i,r;!n||n<=0||(t=document.getElementsByName(n.toString()),t&&t.length>0&&t[0].pinned)||(i=document.getElementById("F"+n.toString()+"_h0"),i&&(i.className=i.className.replace("selected","")),r=document.getElementById("F"+n.toString()+"_h1"),r&&(r.style.display="none"))}function p(n,t){var i,f,u,e;if(n&&!(n<=0)){if(i=document.getElementById("F"+n.toString()+"_h1"),i){if(f=document.getElementsByName(n.toString()),f&&f.length>0&&f[0].pinned&&(t=!0),t&&i.style.display!=="none")return;i.style.display=i.style.display==="none"?"":"none"}u=document.getElementById("F"+n.toString()+"_h0");u&&(u.className+=" selected");i&&u&&i.style.display!=="none"&&(e=document.documentElement.scrollTop<document.body.scrollTop,e||(document.body.scrollTop=c(u,"Top")-document.body.clientHeight/10),l.EnsureMessageVisible(n,!0));r.codeblockProcessor&&r.codeblockProcessor.process(i)}}function c(n,t){for(var i=0;n!==null;)i+=n["offset"+t],n=n.offsetParent;return i}var s,a;t=t||{};var l=this,u=parseInt(i||0),r={objectName:t.objectName,messageTypeId:t.messageTypeId||3,searchPrompt:t.searchPrompt||"search messages",smoothScroll:t.smoothScroll===undefined?!0:t.smoothScroll,allowReporting:t.allowReporting===undefined?!0:t.allowReporting,allowRating:t.allowRating===undefined?!0:t.allowRating,allowRatingDisplay:t.allowRatingDisplay===undefined?!0:t.allowRatingDisplay,forumDir:t.forumDir||"/script/Forums/",staticServer:t.staticServer||"http://www.codeproject.com",ratingControl:t.ratingControl,reactionControl:t.reactionControl,codeblockProcessor:t.codeblockProcessor,getReportFormMethod:t.getReportFormMethod,reportOptions:t.reportOptions||[],switchMsgCallback:t.switchMsgCallback||null,voteHiThreshold:t.voteHiThreshold||4.5},f=[];f["13"]="ENTER";f["37"]="LEFT";f["38"]="UP";f["39"]="RIGHT";f["40"]="DOWN";f["16"]="SHIFT";f["17"]="CTRL";f["33"]="PGUP";f["34"]="PGDOWN";s=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;a={Combinations:{"CTRL+ENTER":function(){k()},"CTRL+LEFT":function(){o(!1,!1)},"CTRL+RIGHT":function(){o(!0,!1)},"CTRL+UP":function(){o(!1,!0)},"CTRL+DOWN":function(){o(!0,!0)},"CTRL+PGUP":function(){s||e(!0)},"CTRL+PGDOWN":function(){s||e(!1)},"CTRL+SHIFT+LEFT":function(){e(!0)},"CTRL+SHIFT+RIGHT":function(){e(!1)}}};this.ShowPermaLink=function(n){var t=$(n),i=parseInt(t.attr("data-msgid")||0),r,u;return t.attr("data-sharingsetup")?v(i):(r=n.href,u='<span class="tooltip">  <img height="16" width="16" src="/images/share.png" border="0" />  <div class="speech-bubble-container-up-right">    <div class="speech-bubble-up-right" style="width:400px !important;">      <input type="text" style="width:97%" value="'+r+'" id="permalink_url_'+i+'">    <\/div>    <div class="speech-bubble-pointer-up-right">      <div class="speech-bubble-pointer-up-right-inner"><\/div>    <\/div>  <\/div><\/span>',t.html(u),t.attr("data-sharingsetup","true"),setTimeout(function(){v(i)},100)),!1};this.showMessageRating=function(t,i,u){var f,h,e,c;if(t&&t.reference&&(f=$(n+" span[data-objectref="+t.reference+"].rating-result"),f.length))if(!i||t.error)f.html("<span>"+t.error+"<\/span>");else{var o=t.rating,s=parseFloat(t.score),y=parseInt(t.votes),l=parseInt(t.upvotes),a=f.attr("data-votingtype"),v=a!=="None"&&a!=="UpVoteOnly";!v&&y&&(o=l===1?"1 upvote":l.toString()+" upvotes");h="";t.ratingHistoryId?(h=' <span class="rating-undo">(<a class="undo" data-ratingHistoryId="'+t.ratingHistoryId+'" data-reference="'+t.reference+'">undo<\/a>)',f.html("<span>"+o+"<\/span>"+h),$(".rating-undo",f).off("click").click(u)):f.html("<span>"+o+"<\/span>");s>0&&(e=null,s<r.noiseThreshold?v&&(e="vote-lo"):s>=r.voteHiThreshold&&(e="vote-hi"),c=f.closest(".content"),e&&c.length&&c.prev().find(".subject-line").addClass(e))}};this.showMessageReaction=function(t,i,u,f){var e,h,c,o,l,s,a,y,v;if(t&&t.reference&&(e=$(n+" span[data-objectref="+t.reference+"].reaction-result"),e.length))if(!i||t.error)e.html("<span>"+t.error+"<\/span>");else{for(h=!1,c=h?"flex-container reaction-icons tooltip":"reaction-icons tooltip",f&&(c+=" pulse-highlight"),o=h?"<div class='"+c+"'>":"<span class='"+c+"'>",l=0;l<t.reactionCounts.length;l++)s=t.reactionCounts[l],o+=h?"<div>"+s.emoji+"<span class='badge'>"+s.count+"<\/span><\/div>":"<span>"+s.emoji+"<span class='badge'>"+s.count+"<\/span><\/span>";o+='<div class="speech-bubble-container-up-right" style="width:auto"><div class="speech-bubble-up-right"><div class="reactors-list"><\/div><\/div><div class="speech-bubble-pointer-up-right"><div class="speech-bubble-pointer-up-right-inner"><\/div><\/div><\/div>';o+="<\/div>";a="";t.reactionHistoryId&&u?(a=' <span class="reaction-undo">(<a class="undo" data-reactionHistoryId="'+t.reactionHistoryId+'" data-reference="'+t.reference+'">undo<\/a>)',e.html("<span>"+o+"<\/span>"+a),$(".reaction-undo",e).off("click").click(u)):e.html("<span>"+o+"<\/span>");y=$(".reactors-list",e);$(".tooltip",e).mouseenter(function(){r.reactionControl.getReactorsList(y,t.reference)});t.totalReactions>10&&(v=e.closest(".content"),className&&v.length&&v.prev().find(".subject-line").addClass("vote-hi"))}};this.FireNew=function(n){window.location=$(n).find("a")[0].href};this.SelfCheck=function(){return window.confirm("You are about to reply to your own message. Is this OK?")};this.Pin=function(n){var t,i;for(h(u),u=null,t=n.parentNode,t&&(t=t.firstChild);t&&t.className!=="message-link";)t=t.nextSibling;return i=n?n.firstChild:null,t&&!t.pinned?(p(t.name,!0),t.pinned=!0,y(i,r.staticServer+r.forumDir+"images/pinned.png","Pinned. Click to unpin")):(t.pinned=!1,h(t.name),y(i,r.staticServer+r.forumDir+"images/pin.png","Click to pin message")),!1};this.SwitchMessage=function(n,t){if(t)t=parseInt(t);else{n||(n=window.event);var i=n.target?n.target:n.srcElement;if(i&&i.className==="subject hover-container")i.childNodes&&i.childNodes.length>2&&(i=i.childNodes[2]);else while(i&&i.className!=="message-link")i=i.parentNode;if(!i||i.className!=="message-link")return;if(i.pinned)return!1;t=parseInt(i.name)}return h(u),u===t?u=null:(p(t,!1),u=t),n&&(n.preventDefault?n.preventDefault:n.returnValue=!1),r.switchMsgCallback&&r.switchMsgCallback(null,t),!1};this.EnsureMessageVisible=function(n,t){var e=document.documentElement.scrollTop<document.body.scrollTop,s=document.getElementById("F"+n.toString()+"_h0"),o=document.getElementById("F"+n.toString()+"_h1");if(o&&s){var u=document.documentElement,f=c(s,"Top"),h=c(o,"Top")+o.offsetHeight,i=e?document.body.scrollTop:document.documentElement.scrollTop;i>f&&!t&&(i=f-u.clientHeight/10);i+u.clientHeight<h&&(i=h-u.clientHeight);i>f&&t&&(i=f-u.clientHeight/10);r.smoothScroll?e?$(document.body).stop().animate({scrollTop:i},"fast"):$(u).stop().animate({scrollTop:i},"fast"):e?document.body.scrollTop=i:u.scrollTop=i}};this.Initialise=function(){document.onkeydown=function(n){return b(n,a,f)};g();nt();r.codeblockProcessor&&r.codeblockProcessor.initialise(n,400,!0);InitWatermark&&InitWatermark("search_"+r.objectName,r.searchPrompt)}}function ForumMsgFlag(n,t){"use strict";this.updateMessageUrl="";this.flagTypes=[];var i=this,r="FrmMsgFlagMenu",u=t,f=function(n,t){return"<a href='javascript:void()' onclick='return "+u+".onClick("+n+","+t+");'>"+i.flagTypes[t].name+"<\/a>"},e=function(n){var u=$(n).parent().parent().parent().parent().find(".message-link"),e,t,o;if(!(u.length<1)){e=u[0].name;$("#"+r+" div").remove();t="<div>";for(o in i.flagTypes)t+='<div class="list-item">'+f(e,o)+"<\/div>";t+="<\/div>";$("#"+r).append(t)}},o=function(){e(this);var i=!1,t=$(this),n=$("#"+r);if(t&&n){var u=$(t).offset(),s=$(t).outerWidth(),h=$(n).outerWidth(),c=$(t).outerHeight(),f=u.left+"px",o=u.top+"px";$(n).css({left:f,top:o});$(n).stop(!0,!0).show();$(t).hover(function(){setTimeout(function(){i||$("#"+r).fadeOut("fast")},200)});$(n).hover(function(){i=!0},function(){i=!1;$(n).fadeOut("fast")})}};this.onClick=function(t,u){return $.get(i.updateMessageUrl+"?msgflagId="+u+"&msg="+t,function(){var r=$(n).find('.message-link[name="'+t+'"]').parent().parent();for(var f in i.flagTypes)r.removeClass(i.flagTypes[f].cssClass);i.flagTypes[u].cssClass&&r.addClass(i.flagTypes[u].cssClass)}),$("#"+r).fadeOut("fast"),!1};this.initialise=function(){$("body").append('<div id="'+r+'" class="invisible tooltip-flyout" style="position:absolute"><div>Error: Unable to load flag types<\/div><\/div>');$(".flag").on("click",o)}}function Subscriptions(n){"use strict";var o=this,t=n,f=function(){var n={forumId:t.ForumId},r=JSON.stringify(n);$.ajax({type:"POST",cache:!1,url:t.GetInfoUrl,data:r,contentType:"application/json; charset=utf-8",dataType:"json",timeout:2e3}).done(function(n){var t=n?n.d:null;t&&i(t)}).fail(function(){})},e=function(n){n.preventDefault();n.stopPropagation();var i={subscription:r()},u=JSON.stringify(i);$("#"+t.ParentId+" button.update").html('<img src="/images/loading16.gif" width="16" height="16" border="0">');$.ajax({type:"POST",cache:!1,url:t.UpdateInfoUrl,data:u,contentType:"application/json; charset=utf-8",dataType:"json",timeout:2e3}).done(function(){$("#"+t.ParentId+" button.update").html("Update")}).fail(function(){$("#"+t.ParentId+" button.update").html("Update")})},i=function(n){for(var i,r=0;r<n.length;r++)i=n[r],i.Schedule&1?$("#"+t.InstantId).prop("checked",!0):i.Schedule&2&&$("#"+t.DailyId).prop("checked",!0),i.Schedule&2?($("#"+t.NewId).prop("checked",!0),$("#"+t.ReplyId).prop("disabled",!0),i.MessageTypeId>0?$("#"+t.MessageTypeId+" option[value=0]").prop("selected",!0):$("#"+t.MessageTypeId+" option[value="+i.MessageTypeId+"]").prop("selected",!0)):($("#"+t.ReplyId).prop("disabled",!1),i.NotificationType&1&&$("#"+t.NewId).prop("checked",!0),i.NotificationType&16&&$("#"+t.ReplyId).prop("checked",!0),$("#"+t.MessageTypeId+" option[value="+i.MessageTypeId+"]").prop("selected",!0))},r=function(){var n={MemberId:0,ForumId:t.ForumId,NotificationSchedule:0,MessageActions:0,MessageTypeId:0};return $("#"+t.InstantId).prop("checked")&&(n.Schedule|=1),$("#"+t.DailyId).prop("checked")?(n.Schedule|=2,n.NotificationType=1):($("#"+t.NewId).prop("checked")&&(n.NotificationType|=1),$("#"+t.ReplyId).prop("checked")&&(n.NotificationType|=16)),n.MessageTypeId=parseInt($("#"+t.MessageTypeId).children("option:selected").val()),n},u=function(){i([r()])};this.initialise=function(){f();$("#"+t.ParentId+" .update").on("click",e);$("#"+t.InstantId).on("click",u);$("#"+t.DailyId).on("click",u)}}function ValidateLength(n,t,i,r){return!n&&r?t+" is a required field.<br/>":(n.length>5&&n.length<i)?"":t+" must be between 5 and "+i.toString()+" characters.<br/>"}function ValidateUrl(n,t,i){return!n&&i?t+" is a required field.<br/>":n.match(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/)?"":"Invalid Url format for "+t+".<br/>"}function ValidateDelimiter(n,t,i,r){var u="";return n?(n=n.trim(),n.charAt(0)===t||n.charAt(n.length-1)===t||n.indexOf(t+t)>-1?u="No leading, trailing or double "+t+"'s are allowed in the "+i+" field.<br/>":n.length>100&&(u=i+" are limited to 100 characters.<br/>")):r&&(u=i+" is a required field.<br/>"),u}function ValidateDate(n,t,i){return!n&&i?t+" is a required field.<br/>":n.match(/^[0-9]{4}-[01][0-9]-[0-3][0-9]$/)?"":"Invalid date format for "+t+".<br/>"}function ValidateRequired(n,t){return!n||n===""?t+" is a required field.<br/>":""}function ValidateNumber(n,t,i){return!n&&i?t+" is a required field.<br/>":isNaN(n)?t+" is not a number.<br/>":""}function WrapMe(n,t,i,r){var f,e="",u=0,s=n.toLowerCase(),o=t.length;for(t=t.toLowerCase();(f=s.indexOf(t,u))>=0;)e+=n.substr(u,f-u),e+=i+n.substr(f,o)+r,u=f+o;return e+n.substr(u)}function markText(n,t){for(var u=new RegExp("(<[^>][^<]*>)([^<]*)","g"),r=new String(""),i=u.exec(t.toString());i!==null;)r+=i[1],r+=WrapMe(i[2],n,'<span class="search-highlight">',"<\/span>"),i=u.exec(t.toString());return r}function unmarkText(n,t){if(elemObj=document.getElementById(n),elemObj){var i=new RegExp('<span class="?search-highlight"?>([^<]*)?<\/span>',"gi");elemObj.parentNode.innerHTML=elemObj.parentNode.innerHTML.replace(i,"$1")}t&&(elemObj=document.getElementById(t),elemObj&&(elemObj.className+=" hidden"))}function markTextInElement(n,t){elemObj=document.getElementById(t);elemObj&&(elemObj.parentNode.innerHTML=markText(n,elemObj.parentNode.innerHTML))}function scrollToAnchor(n,t){var u,i,r,f;return t=jQuery.extend({speed:1100},t),i=n.indexOf("#"),u=i>0?n.substring(i):n,r=$(u),r.length>0&&(f=r.offset().top,$("html:not(:animated),body:not(:animated)").animate({scrollTop:f},t.speed,function(){window.location.hash=n})),!1}function anchorAnimate(n){$("a.anchorLink").each(function(){var t=this;$(t).click(function(i){i.preventDefault();var e=window.location.href,r=$(t).attr("href"),u,f=r.indexOf("#");return u=f>0?r.substring(f):r,scrollToAnchor(u,n)})})}var Bookmark=function(n,t,i,r,u){var l=this,a=n,o=t,s=i,v=r&&u,f;this.memberLoggedOn=u;var h=function(n){var r=$(n),u=r.attr("data-size"),t,i,e;u==="large"?(t='<div style="width: 32px;height:32px;display:inline-block;position:relative"><\/div>',i=.3):u==="medium"?(t='<div style="width: 22px;height22px;display:inline-block;position:relative"><\/div>',i=.18):(t='<div style="width: 16px;height16px;display:inline-block;position:relative"><\/div>',i=.15);r.html(t);r.css("position","relative");e={lines:13,length:32,width:14,radius:23,scale:i,corners:1,opacity:.25,rotate:0,direction:1,speed:1,trail:60,color:"#666",fadeColor:"transparent"};f=new Spinner(e).spin(n)},e=function(n,t,i){var e=$(n),y=e.attr("data-ref"),l=e.attr("data-size"),h=e.attr("data-mode"),a=e.attr("data-enabletooltip")===undefined||e.attr("data-enabletooltip")==="true",r,v,s,f,c;return r=h==="readlater"?t>0?"Added to reading list":i?"Removed from reading list":"Add this to your reading list":t>0?"bookmarked. Click to remove.":i?"bookmark removed":"bookmark this",u||(r+=" (You'll need to be logged in first)"),h!=="readlater"||!1?(f=(i?"un":"")+(h==="readlater"?"readlater":"bookmark"),l==="large"||l==="medium"?(f=o+f+(t>0?"ed48.png":i?"ed48.png":"48.png"),s=24):(f=o+f+(t>0?"ed32.png":i?"ed32.png":"32.png"),s=16),c='<span data-direction="up-right" title="'+r+'" data-enabletooltip="'+a+'" data-tooltip="'+r+'"><img src="'+f+'" style="width:'+s.toString()+"px;height:"+s.toString()+'px;border:none;cursor:pointer;"><\/span>'):(v=t>0?i?"Read Later":"Saved":"Read Later",c='<span data-direction="up-right" title="'+r+'" class="read-later" data-enabletooltip="'+a+'" data-tooltip="'+r+'" data-width="150px">'+v+"<\/span>"),c},c=function(n){$(n).click(function(n){var r;n.preventDefault();var t=$(this),o=t.attr("data-ref"),u=t.attr("data-mode"),i=t.attr("data-bookmarkId");i&&(i=parseInt(i));r=s.toLowerCase().replace(escape("[ObjectRefGuid]").toLowerCase(),o);i&&i>0?r=r+"&action=remove&bid="+i:u==="readlater"&&(r=r+"&action=readlater");h(this);$.ajax({url:r,dataType:"json"}).done(function(n){f&&f.stop();n.success?(t.html(e(t,n.bookmarkId,n.bookmarkId===0)),t.attr("data-bookmarkId",n.bookmarkId.toString()),u==="readlater"&&typeof readLaterList!="undefined"&&readLaterList&&readLaterList.Refresh&&readLaterList.Refresh(n.bookmarkId>0)):t.html(n.message)}).fail(function(){f&&f.stop();t.html(e(t,i,i===0))})})};this.Initialise=function(){$(n).each(function(){var n=$(this).attr("data-bookmarkId");n&&(n=parseInt(n));$(this).html(e(this,n,!1));c(this)});autoTooltip&&autoTooltip()}},ReadLaterList=function(n,t,i,r,u,f){var y=this,e=$("#"+n),o=$("#"+t),s=i,h=r,a=u;this.memberLoggedOn=f;var v=function(n){for(var i='<h3 style="margin:5px 10px">Reading List<\/h3><div id="readLaterList" class="readlater-list">',t=0;t<n.length;t++)i+='<div class="row list-item"><div class="col-2"><span data-type="bookmark" data-ref="'+n[t].objectRef+'"   data-size="small" data-mode="bookmark" data-enabletooltip="false"  data-bookmarkId="'+n[t].bookmarkId+'"><\/div><div class="col-10"><a href="'+n[t].url+'">'+n[t].title+"<\/a><\/div><\/div>";return i+"<\/div>"},c=function(n){$.ajax({type:"POST","async":!0,cache:!1,url:s+"/HasReadLaterList",data:null,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(t){var r=t?t.d:null,i;r?(i='<img src="'+h+'book32.png" style="width:20px;height:20px;margin-bottom:-6px" />',n&&(i='<span class="pulse">'+i+"<\/span>"),e.html(i).removeClass("hidden")):e.addClass("hidden")}).fail(function(){e.addClass("hidden");e.html("")})},l=function(){e.populated||e.populating||(e.populating=!0,o.html('<img src="/images/loading16.gif" alt="loading" style="margin:10px 5px;vertical-align:middle;" /> Loading...'),$.ajax({type:"POST","async":!0,cache:!1,url:s+"/GetReadLaterList",data:null,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){var t=n?n.d:null;o.html(v(t));new Bookmark('#readLaterList [data-type="bookmark"]',h,a,!1,f).Initialise();e.populated=!0}).fail(function(){o.html("")}).always(function(){e.populating=!1}))};this.Refresh=function(){e.populated=!1;c(!0);l()};this.initialise=function(){c(!1);$(e).on("mouseover",l)}},autoTooltip,imageCleanup,forumNav;Date.now||(Date.now=function(){return(new Date).getTime()});Function.prototype.bind||function(){var n=Array.prototype.slice;Function.prototype.bind=function(){var i=this,r=arguments[0],t=n.call(arguments,1);if(typeof i!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){return t.push.apply(t,arguments),i.apply(r,t)}}}(),function(n){var t,i;n.hasInitialised||(t={escapeRegExp:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(n,t){var i=" ";return n.nodeType===1&&(i+n.className+i).replace(/[\n\t]/g,i).indexOf(i+t+i)>=0},addClass:function(n,t){n.className+=" "+t},removeClass:function(n,t){var i=new RegExp("\\b"+this.escapeRegExp(t)+"\\b");n.className=n.className.replace(i,"")},interpolateString:function(n,t){return n.replace(/{{([a-z][a-z0-9\-_]*)}}/ig,function(){return t(arguments[1])||""})},getCookie:function(n){var i="; "+document.cookie,t=i.split("; "+n+"=");return t.length!==2?undefined:t.pop().split(";").shift()},setCookie:function(n,t,i,r,u){var f=new Date,e;f.setDate(f.getDate()+(i||365));e=[n+"="+t,"expires="+f.toUTCString(),"path="+(u||"/")];r&&e.push("domain="+r);document.cookie=e.join(";")},deepExtend:function(n,t){for(var i in t)t.hasOwnProperty(i)&&(i in n&&this.isPlainObject(n[i])&&this.isPlainObject(t[i])?this.deepExtend(n[i],t[i]):n[i]=t[i]);return n},throttle:function(n,t){var i=!1;return function(){i||(n.apply(this,arguments),i=!0,setTimeout(function(){i=!1},t))}},hash:function(n){var t=0,i,r,u;if(n.length===0)return t;for(i=0,u=n.length;i<u;++i)r=n.charCodeAt(i),t=(t<<5)-t+r|0;return t},normaliseHex:function(n){return n[0]==="#"&&(n=n.substr(1)),n.length===3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),n},getContrast:function(n){n=this.normaliseHex(n);var t=parseInt(n.substr(0,2),16),i=parseInt(n.substr(2,2),16),r=parseInt(n.substr(4,2),16),u=(t*299+i*587+r*114)/1e3;return u>=128?"#000":"#fff"},getLuminance:function(n){var t=parseInt(this.normaliseHex(n),16),i=38,r=(t>>16)+i,u=(t>>8&255)+i,f=(t&255)+i,e=(16777216+(r<255?r<1?0:r:255)*65536+(u<255?u<1?0:u:255)*256+(f<255?f<1?0:f:255)).toString(16).slice(1);return"#"+e},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(n){return typeof n=="object"&&n!==null&&n.constructor===Object}},n.status={deny:"deny",allow:"allow",dismiss:"dismiss"},n.transitionEnd=function(){var i=document.createElement("div"),n={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var t in n)if(n.hasOwnProperty(t)&&typeof i.style[t+"ransition"]!="undefined")return n[t];return""}(),n.hasTransition=!!n.transitionEnd,i=Object.keys(n.status).map(t.escapeRegExp),n.customStyles={},n.Popup=function(){function r(){this.initialise.apply(this,arguments)}function f(n){this.openingTimeout=null;t.removeClass(n,"cc-invisible")}function e(t){t.style.display="none";t.removeEventListener(n.transitionEnd,this.afterTransition);this.afterTransition=null}function c(){var t=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return t(n.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return t(n.status.allow),!0;var u=Object.keys(n.status),i=this.getStatus(),r=u.indexOf(i)>=0;return r&&t(i),r}function o(){var t=this.options.position.split("-"),n=[];return t.forEach(function(t){n.push("cc-"+t)}),n}function l(){var i=this.options,r=i.position==="top"||i.position==="bottom"?"banner":"floating",n,u;return t.isMobile()&&(r="floating"),n=["cc-"+r,"cc-type-"+i.type,"cc-theme-"+i.theme],i.static&&n.push("cc-static"),n.push.apply(n,o.call(this)),u=y.call(this,this.options.palette),this.customStyleSelector&&n.push(this.customStyleSelector),n}function a(){var i={},n=this.options,r,u;return n.showLink||(n.elements.link="",n.elements.messagelink=n.elements.message),Object.keys(n.elements).forEach(function(r){i[r]=t.interpolateString(n.elements[r],function(t){var i=n.content[t];return t&&typeof i=="string"&&i.length?i:""})}),r=n.compliance[n.type],r||(r=n.compliance.info),i.compliance=t.interpolateString(r,function(n){return i[n]}),u=n.layouts[n.layout],u||(u=n.layouts.basic),t.interpolateString(u,function(n){return i[n]})}function u(i){var u=this.options,e=document.createElement("div"),f=u.container&&u.container.nodeType===1?u.container:document.body,r;return e.innerHTML=i,r=e.children[0],r.style.display="none",t.hasClass(r,"cc-window")&&n.hasTransition&&t.addClass(r,"cc-invisible"),this.onButtonClick=v.bind(this),r.addEventListener("click",this.onButtonClick),u.autoAttach&&(f.firstChild?f.insertBefore(r,f.firstChild):f.appendChild(r)),r}function v(r){var u=r.target,f,e;t.hasClass(u,"cc-btn")&&(f=u.className.match(new RegExp("\\bcc-("+i.join("|")+")\\b")),e=f&&f[1]||!1,e&&(this.setStatus(e),this.close(!0)));t.hasClass(u,"cc-close")&&(this.setStatus(n.status.dismiss),this.close(!0));t.hasClass(u,"cc-revoke")&&this.revokeChoice()}function y(n){var r=t.hash(JSON.stringify(n)),u="cc-color-override-"+r,i=t.isPlainObject(n);return this.customStyleSelector=i?u:null,i&&p(r,n,"."+u),i}function p(i,r,u){var h,l,c;if(n.customStyles[i]){++n.customStyles[i].references;return}var s={},f=r.popup,e=r.button,o=r.highlight;f&&(f.text=f.text?f.text:t.getContrast(f.background),f.link=f.link?f.link:f.text,s[u+".cc-window"]=["color: "+f.text,"background-color: "+f.background],s[u+".cc-revoke"]=["color: "+f.text,"background-color: "+f.background],s[u+" .cc-link,"+u+" .cc-link:active,"+u+" .cc-link:visited"]=["color: "+f.link],e&&(e.text=e.text?e.text:t.getContrast(e.background),e.border=e.border?e.border:"transparent",s[u+" .cc-btn"]=["color: "+e.text,"border-color: "+e.border,"background-color: "+e.background],e.background!=="transparent"&&(s[u+" .cc-btn:hover, "+u+" .cc-btn:focus"]=["background-color: "+w(e.background)]),o?(o.text=o.text?o.text:t.getContrast(o.background),o.border=o.border?o.border:"transparent",s[u+" .cc-highlight .cc-btn:first-child"]=["color: "+o.text,"border-color: "+o.border,"background-color: "+o.background]):s[u+" .cc-highlight .cc-btn:first-child"]=["color: "+f.text]));h=document.createElement("style");document.head.appendChild(h);n.customStyles[i]={references:1,element:h.sheet};l=-1;for(c in s)s.hasOwnProperty(c)&&h.sheet.insertRule(c+"{"+s[c].join(";")+"}",++l)}function w(n){return(n=t.normaliseHex(n),n==="000000")?"#222":t.getLuminance(n)}function b(i){var f,u,r;t.isPlainObject(i)&&(f=t.hash(JSON.stringify(i)),u=n.customStyles[f],u&&!--u.references&&(r=u.element.ownerNode,r&&r.parentNode&&r.parentNode.removeChild(r),n.customStyles[f]=null))}function s(n,t){for(var i,r=0,u=n.length;r<u;++r)if(i=n[r],i instanceof RegExp&&i.test(t)||typeof i=="string"&&i.length&&i===t)return!0;return!1}function k(){var u=this.setStatus.bind(this),r=this.options.dismissOnTimeout,t,i;typeof r=="number"&&r>=0&&(this.dismissTimeout=window.setTimeout(function(){u(n.status.dismiss)},Math.floor(r)));t=this.options.dismissOnScroll;typeof t=="number"&&t>=0&&(i=function(){window.pageYOffset>Math.floor(t)&&(u(n.status.dismiss),window.removeEventListener("scroll",i),this.onWindowScroll=null)},this.onWindowScroll=i,window.addEventListener("scroll",i))}function d(){var i,f,n,e,r;this.options.type!=="info"&&(this.options.revokable=!0);t.isMobile()&&(this.options.animateRevokable=!1);this.options.revokable&&(i=o.call(this),this.options.animateRevokable&&i.push("cc-animate"),this.customStyleSelector&&i.push(this.customStyleSelector),f=this.options.revokeBtn.replace("{{classes}}",i.join(" ")),this.revokeBtn=u.call(this,f),n=this.revokeBtn,this.options.animateRevokable&&(e=!1,r=t.throttle(function(i){var r=!1,u=window.innerHeight-20;t.hasClass(n,"cc-top")&&i.clientY<20&&(r=!0);t.hasClass(n,"cc-bottom")&&i.clientY>u&&(r=!0);r?t.hasClass(n,"cc-active")||t.addClass(n,"cc-active"):t.hasClass(n,"cc-active")&&t.removeClass(n,"cc-active")},200),this.onMouseMove=r,window.addEventListener("mousemove",r)))}var h={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(){},onStatusChange:function(){},onRevokeChoice:function(){},content:{header:"Cookies used on the website!",message:'Like most websites, this website uses cookies to allow functionality such as logging on and customisation. By using our site, you acknowledge that you have read and understand our <a href="/info/cookie.aspx">Cookie Policy<\/a>, <a href="/info/privacy.aspx">Privacy Policy<\/a>, and our <a href="/info/TermsOfUse.aspx">Terms of Service<\/a>.',dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"http://cookiesandyou.com",close:"&#x274c;"},elements:{header:'<span class="cc-header">{{header}}<\/span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}<\/span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="_blank">{{link}}<\/a><\/span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}<\/a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}<\/a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}<\/a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" target="_blank">{{link}}<\/a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}<\/span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}"><!--googleoff: all-->{{children}}<!--googleon: all--><\/div>',revokeBtn:'<div class="cc-revoke {{classes}}">Cookie Policy<\/div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}<\/div>',"opt-in":'<div class="cc-compliance cc-highlight">{{dismiss}}{{allow}}<\/div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{dismiss}}<\/div>',"opt-in-out":'<div class="cc-compliance cc-highlight">{{dismiss}}{{deny}}{{allow}}<\/div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};return r.prototype.initialise=function(n){var i,r,f;this.options&&this.destroy();t.deepExtend(this.options={},h);t.isPlainObject(n)&&t.deepExtend(this.options,n);c.call(this)&&(this.options.enabled=!1);s(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1);s(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);i=this.options.window.replace("{{classes}}",l.call(this).join(" ")).replace("{{children}}",a.call(this));r=this.options.overrideHTML;typeof r=="string"&&r.length&&(i=r);this.options.static?(f=u.call(this,'<div class="cc-grower">'+i+"<\/div>"),f.style.display="",this.element=f.firstChild,this.element.style.display="none",t.addClass(this.element,"cc-invisible")):this.element=u.call(this,i);k.call(this);d.call(this);this.options.autoOpen&&this.autoOpen()},r.prototype.destroy=function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null);this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null);this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null);this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null);this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element);this.element=null;this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn);this.revokeBtn=null;b(this.options.palette);this.options=null},r.prototype.open=function(){if(this.element)return this.isOpen()||(n.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},r.prototype.close=function(t){if(this.element)return this.isOpen()&&(n.hasTransition?this.fadeOut():this.element.style.display="none",t&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},r.prototype.fadeIn=function(){var i=this.element,r,u;n.hasTransition&&i&&(this.afterTransition&&e.call(this,i),t.hasClass(i,"cc-invisible")&&(i.style.display="",this.options.static&&(r=this.element.clientHeight,this.element.parentNode.style.maxHeight=r+"px"),u=20,this.openingTimeout=setTimeout(f.bind(this,i),u)))},r.prototype.fadeOut=function(){var i=this.element;n.hasTransition&&i&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),f.bind(this,i)),t.hasClass(i,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=e.bind(this,i),i.addEventListener(n.transitionEnd,this.afterTransition),t.addClass(i,"cc-invisible")))},r.prototype.isOpen=function(){return this.element&&this.element.style.display===""&&(n.hasTransition?!t.hasClass(this.element,"cc-invisible"):!0)},r.prototype.toggleRevokeButton=function(n){this.revokeBtn&&(this.revokeBtn.style.display=n?"":"none")},r.prototype.revokeChoice=function(n){this.options.enabled=!0;this.clearStatus();this.options.onRevokeChoice.call(this);n||this.autoOpen()},r.prototype.hasAnswered=function(){return Object.keys(n.status).indexOf(this.getStatus())>=0},r.prototype.hasConsented=function(){var t=this.getStatus();return t===n.status.allow||t===n.status.dismiss},r.prototype.autoOpen=function(){!this.hasAnswered()&&this.options.enabled&&this.open()},r.prototype.setStatus=function(i){var r=this.options.cookie,u=t.getCookie(r.name),f=Object.keys(n.status).indexOf(u)>=0;Object.keys(n.status).indexOf(i)>=0?(t.setCookie(r.name,i,r.expiryDays,r.domain,r.path),this.options.onStatusChange.call(this,i,f)):this.clearStatus()},r.prototype.getStatus=function(){return t.getCookie(this.options.cookie.name)},r.prototype.clearStatus=function(){var n=this.options.cookie;t.setCookie(n.name,"",-1,n.domain,n.path)},r}(),n.Location=function(){function n(n){t.deepExtend(this.options={},r);t.isPlainObject(n)&&t.deepExtend(this.options,n);this.currentServiceIndex=-1}function u(n,t,i){var u,r=document.createElement("script");r.type="text/"+(n.type||"javascript");r.src=n.src||n;r.async=!1;r.onreadystatechange=r.onload=function(){var n=r.readyState;clearTimeout(u);t.done||n&&!/loaded|complete/.test(n)||(t.done=!0,t(),r.onreadystatechange=r.onload=null)};document.body.appendChild(r);u=setTimeout(function(){t.done=!0;t();r.onreadystatechange=r.onload=null},i)}function f(n,t,i,r,u){var f=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0"),e,s,o;if(f.open(r?"POST":"GET",n,1),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(u))for(e=0,s=u.length;e<s;++e)o=u[e].split(":",2),f.setRequestHeader(o[0].replace(/^\s+|\s+$/g,""),o[1].replace(/^\s+|\s+$/g,""));typeof t=="function"&&(f.onreadystatechange=function(){f.readyState>3&&t(f)});f.send(r)}function i(n){return new Error("Error ["+(n.code||"UNKNOWN")+"]: "+n.error)}var r={timeout:5e3,services:["freegeoip","ipinfo","maxmind"],serviceDefinitions:{freegeoip:function(){return{url:"//freegeoip.net/json/?callback={callback}",isScript:!0,callback:function(n,t){try{var r=JSON.parse(t);return r.error?i(r):{code:r.country_code}}catch(u){return i({error:"Invalid response ("+u+")"})}}}},ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(n,t){try{var r=JSON.parse(t);return r.error?i(r):{code:r.country}}catch(u){return i({error:"Invalid response ("+u+")"})}}}},ipinfodb:function(){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(n,t){try{var r=JSON.parse(t);return r.statusCode==="ERROR"?i({error:r.statusMessage}):{code:r.countryCode}}catch(u){return i({error:"Invalid response ("+u+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(n){if(!window.geoip2){n(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"));return}geoip2.country(function(t){try{n({code:t.country.iso_code})}catch(r){n(i(r))}},function(t){n(i(t))})}}}}};return n.prototype.getNextService=function(){var n;do n=this.getServiceByIdx(++this.currentServiceIndex);while(this.currentServiceIndex<this.options.services.length&&!n);return n},n.prototype.getServiceByIdx=function(n){var i=this.options.services[n],r;return typeof i=="function"?(r=i(),r.name&&t.deepExtend(r,this.options.serviceDefinitions[r.name](r)),r):typeof i=="string"?this.options.serviceDefinitions[i]():t.isPlainObject(i)?this.options.serviceDefinitions[i.name](i):null},n.prototype.locate=function(n,t){var i=this.getNextService();if(!i){t(new Error("No services to run"));return}this.callbackComplete=n;this.callbackError=t;this.runService(i,this.runNextServiceOnError.bind(this))},n.prototype.setupUrl=function(n){var t=this.getCurrentServiceOpts();return n.url.replace(/\{(.*?)\}/g,function(i,r){if(r==="callback"){var u="callback"+Date.now();return window[u]=function(t){n.__JSONP_DATA=JSON.stringify(t)},u}if(r in t.interpolateUrl)return t.interpolateUrl[r]})},n.prototype.runService=function(n,t){var i=this,r,e;n&&n.url&&n.callback&&(r=n.isScript?u:f,e=this.setupUrl(n),r(e,function(r){var u=r?r.responseText:"";n.__JSONP_DATA&&(u=n.__JSONP_DATA,delete n.__JSONP_DATA);i.runServiceCallback.call(i,t,n,u)},this.options.timeout,n.data,n.headers))},n.prototype.runServiceCallback=function(n,t,i){var u=this,f=function(t){r||u.onServiceResult.call(u,n,t)},r=t.callback(f,i);r&&this.onServiceResult.call(this,n,r)},n.prototype.onServiceResult=function(n,t){t instanceof Error||t&&t.error?n.call(this,t,null):n.call(this,null,t)},n.prototype.runNextServiceOnError=function(n,t){if(n){this.logError(n);var i=this.getNextService();i?this.runService(i,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,t)},n.prototype.getCurrentServiceOpts=function(){var n=this.options.services[this.currentServiceIndex];return typeof n=="string"?{name:n}:typeof n=="function"?n():t.isPlainObject(n)?n:{}},n.prototype.completeService=function(n,t){this.currentServiceIndex=-1;n&&n(t)},n.prototype.logError=function(n){var t=this.currentServiceIndex,i=this.getServiceByIdx(t);console.error("The service["+t+"] ("+i.url+") responded with the following error",n)},n}(),n.Law=function(){function n(){this.initialise.apply(this,arguments)}var i={showForAllRegions:!1,regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","SI","ES","SE","GB","UK"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]};return n.prototype.initialise=function(n){t.deepExtend(this.options={},i);t.isPlainObject(n)&&t.deepExtend(this.options,n)},n.prototype.get=function(n){var t=this.options;return{hasLaw:t.hasLaw.indexOf(n)>=0,revokable:t.revokable.indexOf(n)>=0,explicitAction:t.explicitAction.indexOf(n)>=0}},n.prototype.applyLaw=function(n,t){var i=this.get(t);return this.options.showForAllRegions||i.hasLaw||(n.enabled=!1),this.options.regionalLaw&&(i.revokable&&(n.revokable=!0),i.explicitAction&&(n.dismissOnScroll=!1,n.dismissOnTimeout=!1)),n},n}(),n.initialise=function(t,i,r){var u=n.Law?new n.Law(t.law):null;i||(i=function(){});r||(r=function(){});u&&n.getCountryCode(t,function(r){delete t.law;delete t.location;r.code&&(t=u.applyLaw(t,r.code));i(new n.Popup(t))},function(i){delete t.law;delete t.location;r(i,new n.Popup(t))})},n.getCountryCode=function(t,i,r){if(t.law&&t.law.countryCode){i({code:t.law.countryCode});return}if(t.location){var u=new n.Location(t.location);u.locate(function(n){i(n||{})},r);return}i({})},n.utils=t,n.hasInitialised=!0,window.cookieconsent=n)}(window.cookieconsent||{});!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).MicroModal=t()}(this,function(){"use strict";function f(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function t(n){return function(n){if(Array.isArray(n))return i(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return i(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}()}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}var e,r,n,u,o,s=(e=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],r=function(){function n(i){var p=i.targetModal,r=i.triggers,u=void 0===r?[]:r,f=i.onShow,w=void 0===f?function(){}:f,e=i.onClose,b=void 0===e?function(){}:e,o=i.openTrigger,k=void 0===o?"data-micromodal-trigger":o,s=i.closeTrigger,d=void 0===s?"data-micromodal-close":s,h=i.openClass,g=void 0===h?"is-open":h,c=i.disableScroll,nt=void 0!==c&&c,l=i.disableFocus,tt=void 0!==l&&l,a=i.awaitCloseAnimation,it=void 0!==a&&a,v=i.awaitOpenAnimation,rt=void 0!==v&&v,y=i.debugMode,ut=void 0!==y&&y;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.modal=document.getElementById(p);this.config={debugMode:ut,disableScroll:nt,openTrigger:k,closeTrigger:d,openClass:g,onShow:w,onClose:b,awaitCloseAnimation:it,awaitOpenAnimation:rt,disableFocus:tt};u.length>0&&this.registerTriggers.apply(this,t(u));this.onClick=this.onClick.bind(this);this.onKeydown=this.onKeydown.bind(this)}var i,r,u;return i=n,(r=[{key:"registerTriggers",value:function(){for(var r=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];i.filter(Boolean).forEach(function(n){n.addEventListener("click",function(n){return r.showModal(n)})})}},{key:"showModal",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i;(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation)?(i=function t(){n.modal.removeEventListener("animationend",t,!1);n.setFocusToFirstNode()},this.modal.addEventListener("animationend",i,!1)):this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.modal,i;(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation)?(i=this.config.openClass,this.modal.addEventListener("animationend",function t(){n.classList.remove(i);n.removeEventListener("animationend",t,!1)},!1)):n.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(n){this.modal=document.getElementById(n);this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(n){if(this.config.disableScroll){var t=document.querySelector("body");switch(n){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick);this.modal.addEventListener("click",this.onClick);document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick);this.modal.removeEventListener("click",this.onClick);document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(n){(n.target.hasAttribute(this.config.closeTrigger)||n.target.parentNode.hasAttribute(this.config.closeTrigger))&&(n.preventDefault(),n.stopPropagation(),this.closeModal(n))}},{key:"onKeydown",value:function(n){27===n.keyCode&&this.closeModal(n);9===n.keyCode&&this.retainFocus(n)}},{key:"getFocusableNodes",value:function(){var n=this.modal.querySelectorAll(e);return Array.apply(void 0,t(n))}},{key:"setFocusToFirstNode",value:function(){var i=this,n,t;this.config.disableFocus||(n=this.getFocusableNodes(),0!==n.length&&(t=n.filter(function(n){return!n.hasAttribute(i.config.closeTrigger)}),t.length>0&&t[0].focus(),0===t.length&&n[0].focus()))}},{key:"retainFocus",value:function(n){var t=this.getFocusableNodes(),i;0!==t.length&&((t=t.filter(function(n){return null!==n.offsetParent}),this.modal.contains(document.activeElement))?(i=t.indexOf(document.activeElement),n.shiftKey&&0===i&&(t[t.length-1].focus(),n.preventDefault()),!n.shiftKey&&t.length>0&&i===t.length-1&&(t[0].focus(),n.preventDefault())):t[0].focus())}}])&&f(i.prototype,r),u&&f(i,u),n}(),n=null,u=function(n){if(!document.getElementById(n))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(n,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(n,'"><\/div>')),!1},o=function(n,t){if(function(n){n.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"><\/a>'))}(n),!t)return!0;for(var i in t)u(i);return!0},{init:function(i){var u=Object.assign({},{openTrigger:"data-micromodal-trigger"},i),s=t(document.querySelectorAll("[".concat(u.openTrigger,"]"))),f=function(n,t){var i=[];return n.forEach(function(n){var r=n.attributes[t].value;void 0===i[r]&&(i[r]=[]);i[r].push(n)}),i}(s,u.openTrigger),e,h;if(!0!==u.debugMode||!1!==o(s,f))for(e in f)h=f[e],u.targetModal=e,u.triggers=t(h),n=new r(u)},show:function(t,i){var f=i||{};f.targetModal=t;!0===f.debugMode&&!1===u(t)||(n&&n.removeEventListeners(),(n=new r(f)).showModal())},close:function(t){t?n.closeModalById(t):n.closeModal()}});return"undefined"!=typeof window&&(window.MicroModal=s),s});var navBarMenu=new NavBarMenu("navBarMenu",".navmenu li"),signinMenu=new NavBarMenu("signinMenu",".member-signin"),memberLinksMenu=new NavBarMenu("memberLinksMenu",".member-links"),notificationsMenu=new NavBarMenu("notificationsMenu",".notification-count");$(function(){navBarMenu.InitMenu();signinMenu.InitMenu();memberLinksMenu.InitMenu();notificationsMenu.InitMenu()}),function(n,t){n.Spinner=t()}(this,function(){"use strict";function i(n,t){var i=document.createElement(n||"div");for(var r in t)i[r]=t[r];return i}function t(n){for(var t=1,i=arguments.length;t<i;t++)n.appendChild(arguments[t]);return n}function a(n,t,i,r){var e=["opacity",t,~~(n*100),i,r].join("-"),o=.01+i/r*100,s=Math.max(1-(1-n)/t*(100-o),n),c=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=c&&"-"+c+"-"||"";return h[e]||(f.insertRule("@"+l+"keyframes "+e+"{0%{opacity:"+s+"}"+o+"%{opacity:"+n+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+n+"}100%{opacity:"+s+"}}",f.cssRules.length),h[e]=1),e}function o(n,t){var u=n.style,r,i;if(t=t.charAt(0).toUpperCase()+t.slice(1),u[t]!==undefined)return t;for(i=0;i<s.length;i++)if(r=s[i]+t,u[r]!==undefined)return r}function n(n,t){for(var i in t)n.style[o(n,i)||i]=t[i];return n}function c(n){for(var r,i,t=1;t<arguments.length;t++){r=arguments[t];for(i in r)n[i]===undefined&&(n[i]=r[i])}return n}function l(n,t){return typeof n=="string"?n:n[t%n.length]}function r(n){this.opts=c(n||{},r.defaults,v)}function y(){function u(n,t){return i("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}f.addRule(".spin-vml","behavior:url(#default#VML)");r.prototype.lines=function(i,r){function s(){return n(u("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function a(i,f,o){t(c,t(n(s(),{rotation:360/r.lines*i+"deg",left:~~f}),t(n(u("roundrect",{arcsize:r.corners}),{width:e,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:o}),u("fill",{color:l(r.color,i),opacity:r.opacity}),u("stroke",{opacity:0}))))}var e=r.scale*(r.length+r.width),o=r.scale*2*e,h=-(r.width+r.length)*r.scale*2+"px",c=n(s(),{position:"absolute",top:h,left:h}),f;if(r.shadow)for(f=1;f<=r.lines;f++)a(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=r.lines;f++)a(f);return t(i,c)};r.prototype.opacity=function(n,t,i,r){var u=n.firstChild;r=r.shadow&&r.lines||0;u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}}var s=["webkit","Moz","ms","O"],h={},u,f,v={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:1/4,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},e;return r.defaults={},c(r.prototype,{spin:function(t){this.stop();var f=this,r=f.opts,e=f.el=i(null,{className:r.className});if(n(e,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(e,t.firstChild||null),e.setAttribute("role","progressbar"),f.lines(e,f.opts),!u){var s=0,l=(r.lines-1)*(1-r.direction)/2,h,c=r.fps,o=c/r.speed,a=(1-r.opacity)/(o*r.trail/100),v=o/r.lines;(function y(){s++;for(var n=0;n<r.lines;n++)h=Math.max(1-(s+(r.lines-n)*v)%o*a,r.opacity),f.opacity(e,n*r.direction+l,h,r);f.timeout=f.el&&setTimeout(y,~~(1e3/c))})()}return f},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=undefined),this},lines:function(r,f){function s(t,r){return n(i(),{position:"absolute",width:f.scale*(f.length+f.width)+"px",height:f.scale*f.width+"px",background:t,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*e+f.rotate)+"deg) translate("+f.scale*f.radius+"px,0)",borderRadius:(f.corners*f.scale*f.width>>1)+"px"})}for(var e=0,h=(f.lines-1)*(1-f.direction)/2,o;e<f.lines;e++)o=n(i(),{position:"absolute",top:1+~(f.scale*f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:u&&a(f.opacity,f.trail,h+e*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&t(o,n(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(o,s(l(f.color,e),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}}),typeof document!="undefined"&&(f=function(){var n=i("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),e=n(i("group"),{behavior:"url(#default#VML)"}),!o(e,"transform")&&e.adj?y():u=o(e,"animation")),r});Date.prototype.stdTimezoneOffset=function(){var n=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1);return Math.max(n.getTimezoneOffset(),t.getTimezoneOffset())};Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};autoTooltip=function(n){"use strict";var t=function(n){var t=n||$(this),u=t.attr("data-width")||"200px",i=t.attr("data-direction")||"up",r=t.attr("data-tooltip");r&&(t.children(".speech-bubble-container-"+i).remove(),t.addClass("tooltip"),t.attr("title",""),t.append('<div class="speech-bubble-container-'+i+'" style="width:'+u+'">  <div class="speech-bubble-'+i+'" style="text-align:center"> '+r+'<\/div>  <div class="speech-bubble-pointer-'+i+'">    <div class="speech-bubble-pointer-'+i+'-inner"><\/div>  <\/div><\/div>'))};n?t(n):$('[data-enabletooltip="true"]').each(function(){t($(this))})};$(function(){autoTooltip()});imageCleanup=new function(){var n=700,t=650,i=function(i){if(i&&i.naturalWidth&&!(i.naturalWidth<n)){var r=$(i);r.css("width",t.toString()+"px");r.css("height","auto");r.css("cursor","pointer");r.css("border","0");r.on("click",function(){showFullImage(r.attr("src"))})}},r=function(n,t,i){if(n){var r=$(n);r.attr("alt")||r.attr("alt","Image "+(i+1).toString()+" for "+t);r.attr("title")||r.attr("title","Image "+(i+1).toString()+" for "+t)}};this.showFullImage=function(n){var t=$('<div id="modal" class="modal"><span class="close" id="modal-close">&times;<\/span><img class="modal-content" src="'+n+'"><\/div>'),i;$(document.body).append(t);t.addClass("active");i=t.find("#modal-close");i.on("click",function(){$(this).removeClass("active");t.remove()})};this.Initialise=function(u,f,e,o){n=f||n;t=e||t;$(u+" img").each(function(n){i(this);r(this,o,n)})}};forumNav=function(){"use strict";function b(){return w||$(document.body).append('<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"><\/canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"><\/canvas>'),w=!0,t||(t=$("#cv1")[0]),r||(r=$("#cv2")[0]),t&&r}function k(){return b()&&(i||(i=t.getContext("2d")),e||(e=r.getContext("2d"))),i&&e}function v(){k()&&(i.clearRect(0,0,t.width,t.height),e.clearRect(0,0,r.width,r.height))}function tt(n){a=!0;rt(n,this.name)}function it(){a=!1;o>=l&&y(null,null)}function rt(i,e){var b,w,g,p,a;if(k()){if(v(),e){if(b=$('a[name="'+e+'"]')[0],u&&u===b)return;u=b}else{if(u&&u===this)return;u=this}(s=null,w=u.attributes.parent.value,w&&w!=="0")&&(s=$('a[name="'+w+'"]'),c=!s.length,c&&(s=$('a[thread="'+u.attributes.thread.value+'"]:first'),g=$(u).closest(".msg-list")),p=$(u).offset(),a=c?{left:p.left-f.x-n.x,top:g.offset().top-f.y-n.y}:s.offset(),p&&a)&&(c&&(a.left=p.left-n.x-2*f.x,a.top-=n.y+f.y),t.width=Math.min(n.x,p.left-a.left),t.height=p.top-a.top-n.y/2,t.style.top=a.top+n.y+f.y+"px",t.style.left=a.left-n.x-f.x+"px",r.width=Math.max(p.left-a.left-n.x/2-f.x,1),r.height=n.y,r.style.top=p.top+f.y+"px",r.style.left=a.left-n.x-f.x+t.width/2+"px",navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(t.style.top=a.top+n.y+3*f.y+"px",r.style.top=p.top+3*f.y+"px"),nt?(o=l,h=null,y()):(o=1,clearInterval(h),h=setInterval("forumNav.drawConnector()",d)))}}function y(){if(v(),u){var f=p+(1-p)*o/l;i.lineWidth=e.lineWidth=1;i.strokeStyle=e.strokeStyle="rgba("+g+","+f+")";i.beginPath();i.moveTo(t.width/2,0);i.lineTo(t.width/2,t.height);i.stroke();e.beginPath();e.moveTo(0,r.height/2);e.lineTo(r.width,r.height/2);e.stroke();c&&(i.beginPath(),i.moveTo(n.x/4,n.y/4),i.lineTo(n.x/2,0),i.lineTo(n.x*3/4,n.y/4),i.stroke());o++;o>l&&(a||v(),h&&clearInterval(h),u=null)}}var n={x:16,y:16},f={x:4,y:2},u=null,s=null,h=0,o=1,l=5,d=50,g="200,200,200",p=.2,w=!1,a=!1,c=!1,nt=navigator.userAgent.indexOf("Chrome/")>=0,t,r,i,e;return{drawConnector:function(){y()},enableConnectors:function(){return"ontouchstart"in document.documentElement?!1:(b(),t&&t.getContext)},initialise:function(){$(".message-link").on("mouseover",tt);$(".message-link").on("mouseout",it)},resize:function(){this.initialise()}}}();$(function(){if(forumNav.enableConnectors()){forumNav.initialise();$(window).on("resize",function(){forumNav.resize()})}});Array.prototype.filter||(Array.prototype.filter=function(n,t){"use strict";if(!(typeof n=="function"&&this))throw new TypeError;var f=this.length>>>0,u=new Array(f),r=this,e=0,i=-1;if(t===undefined)while(++i!==f)i in this&&n(r[i],i,r)&&(u[e++]=r[i]);else while(++i!==f)i in this&&n.call(t,r[i],i,r)&&(u[e++]=r[i]);return u.length=e,u});document.addEventListener("DOMContentLoaded",function(){var v="/script/Content/",u=v+"WebServices/ReadingListService.aspx/",t=[],i=[],r=$("#userReadingLists"),f=[],e=[],o=$("#itemReadingLists"),c=$("input[name='modal_readingListFilter']"),s=!1,h=!1,a,p;c.on("input",function(){var n=$(this).val().toLowerCase();i=t.filter(function(t){return t.name.toLowerCase().indexOf(n)>-1});e=f.filter(function(t){return t.name.toLowerCase().indexOf(n)>-1});l()});var y=function(n){n.preventDefault();var t=$(this).attr("data-rlid");t&&window.open(v+"ViewReadingList.aspx?rlid="+t)},n=function(){return $("<div class='modal_flex_row'><\/div>")},l=function(){if(r.empty(),s){var u=$("<div>Loading...<\/div>");r.append(n().append(u))}else i.length===0&&t.length===0?(u=$("<div>You have no reading lists to which this item can be added.<\/div>"),r.append(n().append(u))):i.length===0&&t.length>0?(u=$("<div>No reading lists match the filter.<\/div>"),r.append(n().append(u))):i.forEach(function(t){var i=n(),e=itemsPrimaryReadingListId===t.Id?"bold modal_readingListTitle":"modal_readingListTitle",u=$("<a href='#' data-rlid='"+t.id+"' class='"+e+"'>"+t.name+"<\/a>"),f=$("<button class='modal_btn modal_btn-primary' data-rlid='"+t.id+"'>Add<\/button>");i.append(u);i.append(f);u.click(y);f.click(w);r.append(i)});o.empty();h?(u=$("<div>Loading...<\/div>"),r.append(n().append(u))):e.length===0&&f.length===0?(u=$("<div>This item belongs to no reading list.<\/div>"),o.append(n().append(u))):i.length===0&&t.length>0?(u=$("<div>No reading lists match the filter.<\/div>"),o.append(n().append(u))):e.forEach(function(t){var i=n(),u=itemsPrimaryReadingListId===t.Id?"bold modal_readingListTitle":"modal_readingListTitle",r=$("<a href='#' data-rlid='"+t.id+"' class='"+u+"'>"+t.name+"<\/a>");i.append(r);r.click(y);o.append(i)})},w=function(n){var t=$(this),i,r;n.preventDefault();i=t.attr("data-rlid");r=$("input[name=modal_makePrimaryExistingList]").prop("checked")===!0;t.text("Adding...");a(i,r,function(){t.text("Added");$("input[name=modal_makePrimaryExistingList]").prop("checked",!1)},function(){t.text("Failed");$("input[name=modal_makePrimaryExistingList]").prop("checked",!1)})},b=function(){s=!0;$.ajax({type:"POST",url:u+"GetReadingListsForCurrentMember",dataType:"json",contentType:"application/json; charset=utf-8"}).fail(function(){s=!1;$(".modal_createAndAddStatusText").text("An error occurred getting reading lists.")}).done(function(n){s=!1;n&&n.d&&(t=n.d.readingLists,i=t,readingListsLoaded=!0,l())});h=!0;$.ajax({type:"POST",url:u+"GetReadingListsForItem",dataType:"json",data:JSON.stringify({objectRef:readingListObjectRef}),contentType:"application/json; charset=utf-8"}).fail(function(){h=!1;$(".modal_createAndAddStatusText").text("An error occurred getting reading lists.")}).done(function(n){h=!1;n&&n.d&&(f=n.d.readingLists,e=f,l())})};$(".addToReadingListLink").click(function(n){n.preventDefault();$(".modal_readingListAddBox").hide();$(".modal_readingLists").show();$(".modal_createAndAddStatusText").text("");$("input[name='new-reading-list-name']").val("");$("input[name='new-reading-list-description']").val("");$(".modal_createAndAddButton").prop("disabled",!1);canSetprimaryReadingList?($(".modal_makePrimaryCheckBox").show(),itemsPrimaryReadingListId?($("input[name=modal_makePrimaryExistingList]").removeProp("checked"),$("input[name=modal_makePrimaryNewList]").removeProp("checked")):($("input[name=modal_makePrimaryExistingList]").prop("checked","checked"),$("input[name=modal_makePrimaryNewList]").prop("checked","checked"))):($("input[name=modal_makePrimaryExistingList]").removeProp("checked"),$("input[name=modal_makePrimaryNewList]").removeProp("checked"),$(".modal_makePrimaryCheckBox").hide());b();MicroModal.show("add-reading-list-modal");setTimeout(function(){c.focus()},300);c.prop("autofocus",!1)});$(".modal_createReadingListRow").click(function(){$(".modal_readingListAddBox").show();$(".modal_readingLists").hide()});a=function(n,t,i,r){var f={readingListId:n,objectRef:readingListObjectRef,isPrimaryList:t};$.ajax({type:"POST",url:u+"AddItemToReadingList",dataType:"json",data:JSON.stringify(f),contentType:"application/json; charset=utf-8"}).fail(function(){$(".modal_createAndAddStatusText").text("An error occurred while trying to add to the reading list.")}).done(function(n){if(n&&n.d){var t=n.d;t.success?i&&i():r&&r()}})};p=function(n,t){$.ajax({type:"POST",url:u+"CreateReadingList",dataType:"json",data:JSON.stringify({title:n,description:t,thumbnailUrl:""}),contentType:"application/json; charset=utf-8"}).fail(function(){$(".modal_createAndAddStatusText").text("An error occurred while trying to create the reading list.")}).done(function(n){var t=n,i;t&&t.d&&(i=t.d.success,i?function(){var i=$("input[name=modal_makePrimaryNewList]").prop("checked")===!0,n;$(".modal_createAndAddStatusText").text("Adding article to new list...");n=parseInt(t.d.id);a(n,i,function(){MicroModal.close("add-reading-list-modal");$("input[name=modal_makePrimaryNewList]").prop("checked",!1)},function(){$(".modal_createAndAddStatusText").text("The reading list was created, but we were unable to add the article to it.");$(".modal_createAndAddButton").prop("disabled",!1);$("input[name=modal_makePrimaryNewList]").prop("checked",!1)})}():$(".modal_createAndAddStatusText").text("An error occurred while trying to create the reading list."))})};$(".modal_createAndAddButton").click(function(n){n.preventDefault();$(".modal_createAndAddStatusText").text("Creating list...");var t=$("input[name='new-reading-list-name']").val(),i=$("input[name='new-reading-list-description']").val();p(t,i)})}),function(n,t,i){"use strict";var u=function(){t(".rrssb-buttons").each(function(){var n=t(this),r=t("li",n).length,i=100/r,u=t("li",n);u.not(".compact").css("width",i+"%").attr("data-initwidth",i)})},o=function(){t(".rrssb-buttons").each(function(){var n=t(this),i=t("li.compact",n).length>0,r=parseFloat(t(n).width()),u=t("li",n).not(".small").first().width(),f=t("li.small",n).length;u>170&&f<1?t(n).addClass("large-format"):t(n).removeClass("large-format");r<(i?100:200)?t(n).removeClass("small-format").addClass("tiny-format"):t(n).removeClass("tiny-format")})},s=function(){t(".rrssb-buttons").each(function(){var n=t(this),f=0,e=0,i,u,o=t("li.small",n).length,s,h,c;o===t("li",n).length?(s=o*42,h=parseFloat(t(n).width()),i=t("li.small",n).first(),u=parseFloat(t(i).attr("data-size"))+55,s+u<h&&(t(n).removeClass("small-format"),t("li.small",n).first().removeClass("small"),r())):(t("li",n).not(".small").each(function(){var n=parseFloat(t(this).attr("data-size"))+55,i=parseFloat(t(this).width());f=f+i;e=e+n}),c=f-e,i=t("li.small",n).first(),u=parseFloat(t(i).attr("data-size"))+55,u<c&&(t(i).removeClass("small"),r()))})},e=function(n){t(".rrssb-buttons").each(function(){var n=t(this),i=t("li",n).nextAll(),u=i.length;t(t("li",n).get().reverse()).each(function(i,u){var f,e,o;t(this).hasClass("small")===!1&&(f=parseFloat(t(this).attr("data-size"))+55,e=parseFloat(t(this).width()),f>e&&(o=t("li",n).not(".small").last(),t(o).addClass("small"),r()));--u||s()})});n===!0&&f(r)},r=function(){t(".rrssb-buttons").each(function(){var n=t(this),e,i,o,s,r,f=t("li.small",n).length;f>0&&f!==t("li",n).length?(t(n).removeClass("small-format"),t("li.small",n).css("width","42px"),o=f*42,e=t("li",n).not(".small").length,i=100/e,r=o/e,s=navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0?"-webkit-calc("+i+"% - "+r+"px)":navigator.userAgent.indexOf("Firefox")>=0?"-moz-calc("+i+"% - "+r+"px)":"calc("+i+"% - "+r+"px)",t("li",n).not(".small").css("width",s)):f===t("li",n).length?(t(n).addClass("small-format"),u()):(t(n).removeClass("small-format"),u())});o()},h=function(){t(".rrssb-buttons").each(function(n){t(this).addClass("rrssb-"+(n+1))});u();t(".rrssb-buttons li .text").each(function(){var n=parseFloat(t(this).width());t(this).closest("li").attr("data-size",n)});e(!0)},f=function(n){t(".rrssb-buttons li.small").removeClass("small");e();n()},c=function(t,r,u,f){var e=n.screenLeft!==i?n.screenLeft:screen.left,o=n.screenTop!==i?n.screenTop:screen.top,s=n.innerWidth?n.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,h=n.innerHeight?n.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=s/2-u/2+e,l=h/3-f/3+o,a=n.open(t,r,"scrollbars=yes, width="+u+", height="+f+", top="+l+", left="+c);n.focus&&a.focus()},l=function(){var n={};return function(t,i,r){r||(r="Don't call this twice without a uniqueId");n[r]&&clearTimeout(n[r]);n[r]=setTimeout(t,i)}}();t(".rrssb-buttons a.popup").on("click",function(n){var i=t(this);c(i.attr("href"),i.find(".text").html(),580,470);n.preventDefault()});t(n).resize(function(){f(r);l(function(){f(r)},200,"finished resizing")});t(function(){h()})}(window,jQuery),function(n){n.fn.shorten=function(t){"use strict";var i={showChars:100,minHideChars:10,ellipsesText:"...",moreStyle:"font-weight:bold;margin-top:6px;",moreText:"show more",lessText:"show less",onLess:function(){},onMore:function(){},errMsg:null,force:!1};if(t&&n.extend(i,t),n(this).data("jquery.shorten")&&!i.force)return!1;n(this).data("jquery.shorten",!0);n(document).off("click",".morelink");n(document).on({click:function(){var t=n(this),r=t.parent().prev(),u=t.parent().prev().prev();return t.hasClass("less")?(t.removeClass("less"),t.html(i.moreText),r.hide(),u.show(),i.onLess()):(t.addClass("less"),t.html(i.lessText),r.show(),u.hide(),i.onMore()),!1}},".morelink");return this.each(function(){var f=n(this),t=f.html(),y=f.text().length,e,r,l,c,v;if(y>i.showChars+i.minHideChars){if(e=t.substr(0,i.showChars),e.indexOf("<")>=0){var o=!1,h="",a=0,u=[],s=null;for(r=0,l=0;l<=i.showChars;r++)if(t[r]!=="<"||o||(o=!0,s=t.substring(r+1,t.indexOf(">",r)),s[0]==="/"?s!=="/"+u[0]?i.errMsg="ERROR en HTML: the top of the stack should be the tag that closes":u.shift():s.toLowerCase()!=="br"&&u.unshift(s)),o&&t[r]===">"&&(o=!1),o)h+=t.charAt(r);else if(l++,a<=i.showChars)h+=t.charAt(r),a++;else if(u.length>0){for(c=0;c<u.length;c++)h+="<\/"+u[c]+">";break}e=n("<div/>").html(h+'<span class="ellip">'+i.ellipsesText+"<\/span>").html()}else e+=i.ellipsesText;v='<div class="shortcontent">'+e+'<\/div><div class="allcontent">'+t+'<\/div><div style="'+i.moreStyle+'"><a href="javascript://nop/" class="morelink">'+i.moreText+"<\/a><\/div>";f.html(v);f.find(".allcontent").hide();n(".shortcontent p:last",f).css("margin-bottom",0)}})}}(jQuery),function(n,t){var i=t(n,n.document);n.lazySizes=i}(typeof window!="undefined"?window:{},function(n,t){"use strict";var f,i;if(function(){var t,r={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};i=n.lazySizesConfig||n.lazysizesConfig||{};for(t in r)t in i||(i[t]=r[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var e=t.documentElement,o=n.Date,et=n.HTMLPictureElement,s="addEventListener",r="getAttribute",h=n[s],u=n.setTimeout,ot=n.requestAnimationFrame||u,k=n.requestIdleCallback,it=/^picture$/i,st=["load","error","lazyincluded","_lazyloaded"],p={},ht=Array.prototype.forEach,c=function(n,t){return p[t]||(p[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),p[t].test(n[r]("class")||"")&&p[t]},l=function(n,t){c(n,t)||n.setAttribute("class",(n[r]("class")||"").trim()+" "+t)},d=function(n,t){var i=c(n,t);i&&n.setAttribute("class",(n[r]("class")||"").replace(i," "))},g=function(n,t,i){var r=i?s:"removeEventListener";i&&g(n,t);st.forEach(function(i){n[r](i,t)})},a=function(n,i,r,u,e){var o=t.createEvent("Event");return r||(r={}),r.instance=f,o.initEvent(i,!u,!e),o.detail=r,n.dispatchEvent(o),o},nt=function(t,u){var f;!et&&(f=n.picturefill||i.pf)?(u&&u.src&&!t[r]("srcset")&&t.setAttribute("srcset",u.src),f({reevaluate:!0,elements:[t]})):u&&u.src&&(t.src=u.src)},v=function(n,t){return(getComputedStyle(n,null)||{})[t]},rt=function(n,t,r){for(r=r||n.offsetWidth;r<i.minSize&&t&&!n._lazysizesWidth;)r=t.offsetWidth,t=t.parentNode;return r},y=function(){var n,i,r=[],s=[],f=r,e=function(){var t=f;for(f=r.length?s:r,n=!0,i=!1;t.length;)t.shift()();n=!1},o=function(r,o){n&&!o?r.apply(this,arguments):(f.push(r),i||(i=!0,(t.hidden?u:ot)(e)))};return o._lsFlush=e,o}(),w=function(n,t){return t?function(){y(n)}:function(){var t=this,i=arguments;y(function(){n.apply(t,i)})}},ct=function(n){var r,f=0,h=i.throttleDelay,t=i.ricTimeout,e=function(){r=!1;f=o.now();n()},s=k&&t>49?function(){k(e,{timeout:t});t!==i.ricTimeout&&(t=i.ricTimeout)}:w(function(){u(e)},!0);return function(n){var i;((n=n===!0)&&(t=33),r)||(r=!0,i=h-(o.now()-f),i<0&&(i=0),n||i<9?s():u(s,i))}},ut=function(n){var t,r,i=99,f=function(){t=null;n()},e=function(){var n=o.now()-r;n<i?u(e,i-n):(k||f)(f)};return function(){r=o.now();t||(t=u(e,i))}},ft=function(){var vt,rt,bt,ft,kt,dt,gt,et,ot,st,lt,yt,ei=/^img$/i,oi=/^iframe$/i,si="onscroll"in n&&!/(gle|ing)bot/.test(navigator.userAgent),hi=0,at=0,b=0,k=-1,ni=function(n){b--;(!n||b<0||!n.target)&&(b=0)},ti=function(n){return yt===null&&(yt=v(t.body,"visibility")==="hidden"),yt||v(n.parentNode,"visibility")!=="hidden"&&v(n,"visibility")!=="hidden"},ci=function(n,i){var u,r=n,f=ti(n);for(et-=i,lt+=i,ot-=i,st+=i;f&&(r=r.offsetParent)&&r!==t.body&&r!==e;)f=(v(r,"opacity")||1)>0,f&&v(r,"overflow")!=="visible"&&(u=r.getBoundingClientRect(),f=st>u.left&&ot<u.right&&lt>u.top-1&&et<u.bottom+1);return f},ii=function(){var w,n,s,c,a,o,v,l,d,h,y,p,u=f.elements;if((ft=i.loadMode)&&b<8&&(w=u.length)){for(n=0,k++;n<w;n++)if(u[n]&&!u[n]._lazyRace){if(!si||f.prematureUnveil&&f.prematureUnveil(u[n])){pt(u[n]);continue}if((l=u[n][r]("data-expand"))&&(o=l*1)||(o=at),h||(h=!i.expand||i.expand<1?e.clientHeight>500&&e.clientWidth>500?500:370:i.expand,f._defEx=h,y=h*i.expFactor,p=i.hFac,yt=null,at<y&&b<1&&k>2&&ft>2&&!t.hidden?(at=y,k=0):at=ft>1&&k>1&&b<6?h:hi),d!==o&&(dt=innerWidth+o*p,gt=innerHeight+o,v=o*-1,d=o),s=u[n].getBoundingClientRect(),(lt=s.bottom)>=v&&(et=s.top)<=gt&&(st=s.right)>=v*p&&(ot=s.left)<=dt&&(lt||st||ot||et)&&(i.loadHidden||ti(u[n]))&&(rt&&b<3&&!l&&(ft<3||k<4)||ci(u[n],o))){if(pt(u[n]),a=!0,b>9)break}else!a&&rt&&!c&&b<4&&k<4&&ft>2&&(vt[0]||i.preloadAfterLoad)&&(vt[0]||!l&&(lt||st||ot||et||u[n][r](i.sizesAttr)!=="auto"))&&(c=vt[0]||u[n])}c&&!a&&pt(c)}},p=ct(ii),ri=function(n){var t=n.target;if(t._lazyCache){delete t._lazyCache;return}ni(n);l(t,i.loadedClass);d(t,i.loadingClass);g(t,ui);a(t,"lazyloaded")},li=w(ri),ui=function(n){li({target:n.target})},ai=function(n,t){try{n.contentWindow.location.replace(t)}catch(i){n.src=t}},vi=function(n){var t=n[r](i.srcsetAttr),u=i.customMedia[n[r]("data-media")||n[r]("media")];u&&n.setAttribute("media",u);t&&n.setAttribute("srcset",t)},yi=w(function(n,t,f,e,o){var s,h,v,c,p,w;(p=a(n,"lazybeforeunveil",t)).defaultPrevented||(e&&(f?l(n,i.autosizesClass):n.setAttribute("sizes",e)),h=n[r](i.srcsetAttr),s=n[r](i.srcAttr),o&&(v=n.parentNode,c=v&&it.test(v.nodeName||"")),w=t.firesLoad||"src"in n&&(h||s||c),p={target:n},l(n,i.loadingClass),w&&(clearTimeout(bt),bt=u(ni,2500),g(n,ui,!0)),c&&ht.call(v.getElementsByTagName("source"),vi),h?n.setAttribute("srcset",h):s&&!c&&(oi.test(n.nodeName)?ai(n,s):n.src=s),o&&(h||c)&&nt(n,{src:s}));n._lazyRace&&delete n._lazyRace;d(n,i.lazyClass);y(function(){var t=n.complete&&n.naturalWidth>1;(!w||t)&&(t&&l(n,"ls-is-cached"),ri(p),n._lazyCache=!0,u(function(){"_lazyCache"in n&&delete n._lazyCache},9));n.loading==="lazy"&&b--},!0)}),pt=function(n){if(!n._lazyRace){var f,t=ei.test(n.nodeName),e=t&&(n[r](i.sizesAttr)||n[r]("sizes")),u=e==="auto";(u||!rt)&&t&&(n[r]("src")||n.srcset)&&!n.complete&&!c(n,i.errorClass)&&c(n,i.lazyClass)||(f=a(n,"lazyunveilread").detail,u&&tt.updateElem(n,!0,n.offsetWidth),n._lazyRace=!0,b++,yi(n,f,u,e,t))}},pi=ut(function(){i.loadMode=3;p()}),fi=function(){i.loadMode===3&&(i.loadMode=2);pi()},wt=function(){if(!rt){if(o.now()-kt<999){u(wt,999);return}rt=!0;i.loadMode=3;p();h("scroll",fi,!0)}};return{_:function(){kt=o.now();f.elements=t.getElementsByClassName(i.lazyClass);vt=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass);h("scroll",p,!0);h("resize",p,!0);n.MutationObserver?new MutationObserver(p).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[s]("DOMNodeInserted",p,!0),e[s]("DOMAttrModified",p,!0),setInterval(p,999));h("hashchange",p,!0);["focus","mouseover","click","load","transitionend","animationend"].forEach(function(n){t[s](n,p,!0)});/d$|^c/.test(t.readyState)?wt():(h("load",wt),t[s]("DOMContentLoaded",p),u(wt,2e4));f.elements.length?(ii(),y._lsFlush()):p()},checkElems:p,unveil:pt,_aLSL:fi}}(),tt=function(){var n,f=w(function(n,t,i,r){var f,u,e;if(n._lazysizesWidth=r,r+="px",n.setAttribute("sizes",r),it.test(t.nodeName||""))for(f=t.getElementsByTagName("source"),u=0,e=f.length;u<e;u++)f[u].setAttribute("sizes",r);i.detail.dataAttr||nt(n,i.detail)}),r=function(n,t,i){var r,u=n.parentNode;u&&(i=rt(n,u,i),r=a(n,"lazybeforesizes",{width:i,dataAttr:!!t}),r.defaultPrevented||(i=r.detail.width,i&&i!==n._lazysizesWidth&&f(n,u,r,i)))},e=function(){var t,i=n.length;if(i)for(t=0;t<i;t++)r(n[t])},u=ut(e);return{_:function(){n=t.getElementsByClassName(i.autosizesClass);h("resize",u)},checkElems:u,updateElem:r}}(),b=function(){!b.i&&t.getElementsByClassName&&(b.i=!0,tt._(),ft._())};return u(function(){i.init&&b()}),f={cfg:i,autoSizer:tt,loader:ft,init:b,uP:nt,aC:l,rC:d,hC:c,fire:a,gW:rt,rAF:y}});
/*!
 * hoverIntent v1.8.1 // 2014.08.11 // jQuery v1.9.1+
 * http://briancherne.github.io/jquery-hoverIntent/
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.hoverIntent&&n(jQuery)})(function(n){"use strict";var f={interval:100,sensitivity:6,timeout:0},e=0,t,i,r=function(n){t=n.pageX;i=n.pageY},u=function(n,f,e,o){if(Math.sqrt((e.pX-t)*(e.pX-t)+(e.pY-i)*(e.pY-i))<o.sensitivity)return f.off(e.event,r),delete e.timeoutId,e.isActive=!0,n.pageX=t,n.pageY=i,delete e.pX,delete e.pY,o.over.apply(f[0],[n]);e.pX=t;e.pY=i;e.timeoutId=setTimeout(function(){u(n,f,e,o)},o.interval)},o=function(n,t,i,r){return delete t.data("hoverIntent")[i.id],r.apply(t[0],[n])};n.fn.hoverIntent=function(t,i,s){var c=e++,h=n.extend({},f),l;n.isPlainObject(t)?(h=n.extend(h,t),n.isFunction(h.out)||(h.out=h.over)):h=n.isFunction(i)?n.extend(h,{over:t,out:i,selector:s}):n.extend(h,{over:t,out:t,selector:i});l=function(t){var e=n.extend({},t),f=n(this),s=f.data("hoverIntent"),i,l;if(s||f.data("hoverIntent",s={}),i=s[c],i||(s[c]=i={id:c}),i.timeoutId&&(i.timeoutId=clearTimeout(i.timeoutId)),l=i.event="mousemove.hoverIntent.hoverIntent"+c,t.type==="mouseenter"){if(i.isActive)return;i.pX=e.pageX;i.pY=e.pageY;f.off(l,r).on(l,r);i.timeoutId=setTimeout(function(){u(e,f,i,h)},h.interval)}else{if(!i.isActive)return;f.off(l,r);i.timeoutId=setTimeout(function(){o(e,f,i,h.out)},h.timeout)}};return this.on({"mouseenter.hoverIntent":l,"mouseleave.hoverIntent":l},h.selector)}});